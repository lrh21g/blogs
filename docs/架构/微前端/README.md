# 微前端

+ 在一个系统内，微前端是应用间的架构方案。在多个应用之间，微前端则是一种系统间的架构方案。
+ 微前端是将多个前端应用已某种形式结合在一起进行应用，旨在解决单体应用在一个相对长的时间跨度下，由于参与的人员，团队增多、变迁，从一个普通应用演变成一个巨石应用（Frontend Monolith）后，随之而来的应用不可维护的问题。
+ 实现形式：
  + 单实例：即同一时刻，只有一个子应用被展示，子应用具备一个完整的应用生命周期
  + 多实例：通常基于URL的变化来做子应用的切换，同一时刻可展示多个子应用。通常使用 Web Components 方案来做子应用封装，子应用更像是一个业务组件而不是应用。

## 微前端实现方式比对

### Iframe

+ 优势
  + 技术成熟
  + 支持页面嵌入
  + 天然支持运行沙箱隔离、独立运行
+ 劣势
  + 页面之前可以是不同的域名
  + 需要对应的设计一套应用通讯机制，如何监听、传值格式等内容
  + 应用加载、渲染、缓存等体系的实现

### Web Component

+ 优势
  + 支持自定义元素
  + 支持 shadow dom，并可以通过关联进行控制
  + 支持模板 template 和插槽 slot ，引入自定义组建内容
+ 劣势
  + 接入微前端需要重写当前项目
  + 生态系统不完善，技术过新容易出现兼容性问题
  + 整体架构设计复杂，组件与组件之间拆分过细时，容易造成通讯和控制繁琐

### 自研框架

+ 优势
  + 高度定制化，满足需要做兼容的一切场景
  + 独立的通信机制和沙箱运行环境，可解决应用之间相互影响的问题
  + 支持不同技术栈子应用，可无缝实现页面无刷新渲染
+ 劣势
  + 技术实现难度较高
  + 需要设计一套定制的通信机制
  + 首次加载会出现资源过大的情况
