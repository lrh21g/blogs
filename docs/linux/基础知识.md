# Linux 基础知识

## 基础知识

### 命令行提示符

`[lrh@localhost ~]$`

+ `lrh`: 标识当前用户的名字（username）。Linux 是多用户的操作系统。可以使用命令行 `whoami` 获取
+ `@`: 前面是用户名，后面表示所在的域。例如：123456798@qq.com
+ `localhost`: 电脑/主机的名字。也就是主机名（hostname），默认为 localhost ，可修改为其他名字。可以使用命令行 `hostname` 获取
+ `~`: 表示当前所在目录的名字，会随着用户进入不同目录而改变。`~` 表示当前用户的家目录（home directory）
+ `$`: 表示具有权限的字符
  + `$`: 表示普通用户，有权限的控制
  + `#`: 表示超级用户，也就是 `root`。可使用 `sudo su` 切换为超级用户。命令提示符随之改变为：`[root@localhost ~]#`。退出 `root` 身份，可使用 `Ctrl + D` 的组合键，或者用 `exit` 命令

### 简单命令

+ `date` 命令: 用于显示当前时间
+ `ls` 命令: 用于列出当前目录下的文件和目录

### 命令参数

写在命令之后的一些补充选项。命令和参数之间有空格隔开。

+ 短参数：形式为一个短横线后接一个字母，可以用空格隔开多个短参数，多个短参数可以合并在一起。区分大小写。
  + 短参数赋值形式通常为: `command -p 10`
  + 示例：`ls -a` - 列出当前目录下所有的文件和目录
+ 长参数：形式为以两个短横线开始，只能以空格隔开多个长参数。可以组合使用短参数和长参数。
  + 长参数赋值形式通常为: `command -parameter=10`
  + 示例： `ls --all` - 列出当前目录下所有的文件和目录

## 查找命令与命令的历史记录

### 补充命令

使用 `Tab键` 来补充命令。也可以补全文件名、路径名：按**两次** `Tab键`

示例: 输入 `c` 按两次 `Tab键`, 如果以 `c` 开头的命令过多，可能会提示是否显示全部命令行，此时可使用 `空格键` - 翻页， `回车键` - 显示下一行，`Q键` - 退出列表

### 命令历史记录

+ 向上键: 按时间顺序向前查找用过的命令
+ 向下键：按时间顺序想后查找用过的命令
+ `Ctrl + R`: 用于查找使用过的命令。输入相关命令，则可进行查找，回车运行
+ `history` 命令: 用于列出之前使用过的所有命令。可以使用 `!编号` 的格式重新运行 `history` 输出中对应编号的命令

### 实用快捷键

+ `Ctrl + l`: 用于清理终端的内容，清屏。同 `clear` 命令
+ `Ctrl + d`: 给终端传递 EOF （End Of File, 文件结束符）
+ `Shift + PgUp`: 用于向上滚屏，与鼠标的滚轮向上滚屏是一个效果
+ `Shift + PgDn`: 用于向下滚屏，与鼠标的滚轮向下滚屏是一个效果
+ `Ctrl + a`: 光标跳到一行命令的开头。 Home 键有同样的效果
+ `Ctrl + e`: 光标跳到一行命令的结尾。 End 键有同样的效果
+ `Ctrl + u`: 用于删除光标左侧所有的字符
+ `Ctrl + k`: 用于删除光标右侧所有的字符
+ `Ctrl + w`: 删除光标左侧的一个“单词”
+ `Ctrl + y`: 用于粘贴用 `Ctrl + u`、`Ctrl + k`或`Ctrl + w`“删除”的字符串

## 文件和目录组织命令

### 文件和目录组织

Linux 中一切都是文件。用斜杠 `/` 来标明目录的层级与包含关系.

``` txt
/
| --- bin: binary，表示“二进制文件”。包含会被所有用户使用的可执行程序
| --- boot: boot，表示“启动”。目录包含与 Linux 启动密切相关的文件
| --- dev: device，表示“设备”。包含外设。它里面的子目录，每一个对应一个外设。示例：代表光盘驱动器的文件会出现在这个目录下面
| --- etc: et cetera（法语，翻译成英语为 and so on）,表示“...等等”。包含系统的配置文件
| --- home: home，表示“家”。用户的私人目录
| --- lib: library，表示“库”。包含被程序所调用的库文件，示例：.so 结尾的文件。Windows 下库文件是以 .dll 结尾
| --- media: media，表示“媒体”。可移动的外设（USB盘、SD卡、DVD等）插入电脑时，Linux可通过 media 的子目录来访问这些外设中的内容
| --- mnt: mount，表示“挂载”。类似 media 目录，但一般用于临时挂载一些装置
| --- opt: optional application software package，表示“可选的应用软件包”。用于安装多数第三方软件和插件
| --- root: root，表示“根”。超级用户 root 的家目录，一般用户的家目录位于 /home 下
| --- sbin: system binary，表示“系统二进制文件”。包含系统级的重要可执行程序
| --- srv: service，表示“服务”。包含一些网络服务启动之后所需要取用的数据
| --- tmp: temporary，表示“临时的”。普通用户和程序存放临时文件的地方
| --- usr: Unix Software Resource，表示“Unix操作系统软件资源”。安装了大部分用户要调用的程序
| --- var: variable，表示“动态的，可变的”。包含程序的数据，比如 log（日志） 文件。log文件记录电脑中发生了什么事
```

注：[Linux文件系统结构图](https://linuxtoy.org/archives/linux-file-structure.html)

### 目录基本命令

+ `pwd` 命令: 显示当前目录的路径
+ `which` 命令: 获取命令的可执行文件的位置。用于显示一个命令的对应的可执行程序的位置。
  
  Liunx 下，每一条命令其实对应了一个可执行程序。在终端输入命令，执行，其实就是执行了对应的那个程序。`pwd` 命令就是对应的 pwd 程序就存在于 Liunx 中
+ `ls` 命令: 列出文件和目录
  + 颜色标注
    + CentOS 终端默认颜色标注：蓝色 - 目录、绿色 - 可执行文件、红色 - 压缩文件、浅蓝色 - 链接文件、灰色 - 其他文件
    + `ls --color=auto` 命令: 开启颜色标注
    + `ls --color=none` 命令: 关闭颜色标注
  + 参数
    + `-a`: 显示所有文件和目录，包括隐藏的（Linux 中以 `.` 开头的文件是隐藏文件，不包括开头的 `.`（表示当前目录） 和 `..` （表示上一级目录））
    + `-A`: 与参数 `-a` 基本一致，但是不列出 `.` 和 `..` 两个文件
    + `-l`: 列出一个显示文件和目录的详细信息的列表

      `drwxr-xr-x. 2 lrh lrh 6 Jul 14 04:22 Desktop`
      + `drwxr-xr-x` - 文件权限
      + `2` - 链接的数目
      + `lrh` - 文件的所有者的名称
      + `lrh` - 文件所在的群组
      + `6` - 文件大小：单位是 octet，也就是 byte ，字节
      + `Jul 14 04:22` - 最近一次修改时间
      + `Desktop` - 目录或文件的名字
    + `-h`: 以 Ko、Mo、Go 的形式显示文件大小。更符合阅读习惯。
    + `-t`: 按文件最近一次修改时间排序
    + `-i`: 可以显示文件的 inode
+ `cd` 命令: change directory，表示“切换目录”
  + 相对路径：相对于当前目录的一个路径表示法
  + 绝对路径：绝对的，不因当前目录而改变一个路径表示法。总是以 `/` 开通，`/` 表示根目录
  + 重回家目录的三种方法
    + `cd /home/lrh`
    + `cd ~`
    + `cd` 不加任何参数
+ `du` 命令: disk usage，表示“磁盘使用/占用”。显示目录包含的文件和目录所占的空间大小。相比于 `ls -l` 命令，`du` 命令统计的才是真正的文件大小
  + 参数
    + `-a`: 显示文件和目录的大小
    + `-h`: 以 Ko、Mo、Go 的形式显示文件大小。更符合阅读习惯。
    + `-s`: 只显示当前目录的总大小

### 文件基本命令

+ `cat` 命令: concatenate，表示“连接/串联”。一次性显示文件的所有内容，只需要在命令后加上想要显示的文件路径即可。
+ `less` 命令: 分页显示文件内容，在命令后加上想要显示的文件路径即可。
  + `less` 命令快捷键
    + 空格键: 文件内容读取下一个终端屏幕的行数，相当于前进一个屏幕（页），与键盘上的 PageDown（下一页） 效果一样
    + 回车键: 文件内容读取下一行，前进一行。
    + `= 号`: 显示正处在文件中的什么位置。会显示当前页面的内容是文件的第几行到第几行，整个文件所含的行数，所含字符数，整个文件所含字符数
    + `/ （斜杠）`: 进入搜索模式，正则表达式也可以用在搜索内容中。按 `n 键` 跳转到下一个， `N 键（shift + n键）` 跳转到上一个
    + `d 键`: 前进半页（半个屏幕）
    + `b 键`: 后退一页。与键盘上的 PageUp（上一页） 效果一样
    + `y 键`: 后退一行。与键盘上的向上键效果一样
    + `u 键`: 后退半页（半个屏幕）
    + `q 键`: 停止读取文件，中止 less 命令
    + `h 键`: 显示帮助文档。按 `q 键` 退出帮助文档

    注意：此处为 小写字母 快捷键，大写字母则需要 shift + 对应字母。在 Linux 中，通常来说都区分大小写
+ `head` 命令: 显示文件的开头的几行，默认显示10行。可使用 `-n` 参数，指定显示的行数
+ `tail` 命令: 显示文件的结尾的几行，默认显示10行。
  + 参数
    + `-n` 参数: 指定显示的行数
    + `-f` 参数: 实时追踪文件的更新。默认每过 1秒 检查文件更新，如果有新内容，就显示新增的内容。可以使用快捷键 `Ctrl + c` 来终止 `tail -f` 命令
    + `-s` 参数: 可指定间隔检查更新的秒数
+ `touch` 命令: 创建一个空白文件。创建文件时，文件名中如果需要加空格，则给文件名加上双引号

  注：事实上，Linux 没有一个命令时专门用来创建一个空白文件的。`touch` 命令设计的初衷是修改文件的创建时间或修改时间，如果 `touch` 命令后面跟着的文件名不存在，就会新建一个
+ `mkdir` 命令: make directory，创建一个目录。创建目录时，目录名中如果需要加空格，则给目录名加上双引号
  + 参数
    + `-p` 参数: 递归创建目录结构。示例：`mkdir -p one/two/three`
+ `cp` 命令: copy，表示“拷贝”。拷贝文件或目录。
  + 拷贝文件
    + 到当前目录: `cp new_file new_file_copy`
    + 到其他目录: `cp new_file one/` / `cp new_file one/new_file_copu`
  + 拷贝目录：在 `cp` 命令加上 `-r`或`-R` 参数。recursive，表示“递归的”。拷贝的时候，目录中所有内容（子目录和文件）都会被拷贝。示例: `cp -r one one_copy`
  + 通配符 `*`
    + `cp *.txt folder` - 把当前目录下所有 txt 文件拷贝到 folder 目录中
    + `cp ha* folder` - 把当前目录下以 ha 开头的文件都拷贝到 folder 目录中
+ `mv` 命令: move，表示“移动”。有两个功能：移动文件（或目录）、重命名文件（或目录）
  + `mv new_file one` - 将 new_file 这个文件移动到 one 目录
  + `mv *.txt one` - 将当前目录下所有 txt 文件移动到 one 目录
  + `mv new_file renamed_file` - 将 new_file 重命名为 renamed_file

  注：事实上，Linux 中没有一个专门的命令用于重命名文件，`mv` 命令可以重命名文件，归因于它的机制：移动文件，移动之后，原始文件变成了新的名字的文件
+ `rm` 命令: remove，表示“移除”。可以删除一个或者多个文件、目录，删除多个文件用空格隔开即可
  + 参数
    + `-i` 参数: inform，表示“告知，通知”。对每一个要删除的文件，终端都会询问是否确定删除。输入 'y' 删除文件，输入 'n' 文件不会删除
    + `-f` 参数: force，表示“强迫，强制”。终端不会询问用户是否确定删除文件，强制删除
    + `-r` 参数: recursive，表示“递归的”。递归地删除。使用 `-r` 参数，可以使 `rm` 命令删除目录，并递归删除其包含的子目录和文件
  + 示例
    + `rm new_file_copy` - 删除当前目录下的 new_file_copy 这个文件
    + `rm -rf /*` / `rm -rf /` - 强制递归删除跟目录下所有文件。CentOS中，添加了防护措施。但是对 `cd / --> sudo rm -rf *` 没有防护措施
+ `ln` 命令: 创建链接，类似 Windows 中的快捷方式。
  + Linux 文件基础知识
    + 在硬盘上存储时，大致来说每个文件有两部分：文件名和文件内容。文件名的列表时储存在硬盘的其他地方的，和文件内容分开存放，方便Linux管理。（其实，每个文件有三个部分：文件名、权限和文件内容）
    + 每个文件的文件内容被分配到一个标示号码，就是 inode。每个文件名都绑定到它的文件内容（用 inode 标识）

    ![base_01](./files/images/base_01.png)

  + Linux 下有两种链接类型：
    + Physical link（物理链接或硬链接）: 使链接的两个文件共享同样文件内容，就是同样的 inode。
      + 一旦 文件1 和 文件2 之间有了 硬链接，那么修改 文件1 或 文件2，修改的是同样的一块内容。只不过可以用两个文件名来获取文件内容。
      + 创建硬链接时，`ln` 命令不带任何参数
      + 对于硬链接来说，删除任意一方的文件，共同指向的文件内容并不会从硬盘上被删除
      + 缺陷：只能创建指向文件的硬链接，不能创建指向目录的
    + Symbolic link（符号链接或软链接）
      + 创建软链接时，`ln` 命令需要加上 `-s` 参数。symbolic，表示“符号的”
      + 软链接可以指向文件或目录，对于目录，一般使用软链接
  + 示例：
    + 硬链接
      + 创建一个文件 file2 ，使之成为 file1 的硬链接。创建硬链接，直接使用 `ln` 命令，不加任何参数：`ln file1 file2`。原理图如下

        ![base_02](./files/images/base_02.png)
      + 使用 `rm file2` 删除 file2，对 file1 没什么影响，同样使用 `rm file1`，对 file2 也没什么影响。只有即删除 file1 和 file2，它们共同指向的文件内容才会消失，inode 才会被删去
    + 软链接
      + `ln -s file1 file2` - 创建 file1 的软链接 file2

        ![base_03](./files/images/base_03.png)
      + 使用 `ls -l` 查看时，file2 的信息为 file2 -> file1，表示 file2 指向 file1。file2 前面的权限第一个字母变成了 `l` ,表示 link（链接）
      + file2 的链接数目为 1 ，表示拥有相同的 inode号 的文件数。因为 file2 指向 file1，它们并没有指向同一块文件内容，所以它们的 inode 号不相同
      + 其实 file2 这个软链接只有 file1 的一个快捷方式，它指向的是 file1，所以显示的是 file1 的内容。file2 的 inode 和 file1 不一样，也就是文件内容不一样
      + 如果删除 file2 ，没什么大不了，file1 不会受到影响。如果删除 file1，file2 会变成 “死链接”，因为指向的文件不见了

## 用户和权限

### 切换为 root 身份

+ `sudo` 命令: Substitute User DO的缩写。以 root 身份运行命令
+ `sudo su` 命令: 一直成为 root 用户。`exit` 命令或 `Ctrl + D` 快捷键退出。
+ CentOS 可以使用其他命令进行切换
  + `su`: 切换为 root 用户，此时目录定位到 个人用户 的家目录
  + `su -`: 切换为 root 用户，此时目录定位到 root 用户的家目录
  + `sudo -i`: 同 `su -`

### 用户相关操作

+ `useradd` 命令: 添加用户。在命令后接要创建的用户名即可
  
  普通用户身份下，运行 `useradd thomas`。终端提示 “bash:/usr/sbin/useradd: Permission denied”，意思是“useradd: 权限被否决”
+ `passwd` 命令: 修改密码。在命令后加上需要修改密码的用户名
+ `userdel` 命令: 删除用户。在命令后加上需要删除的用户名，终端不会提示是否确认删除，会直接删除用户。如果不加参数的话，只会删除用户，但是不会删除在 /home 目录中的用户家目录。
  + `-r` 或 `--remove` 参数: 删除用户的同时，此用户的家目录也会一并删除

### 群组管理

Linux 中每一个用户都属于一个特定的群组。如果不设置用户的群组，默认会创建一个和它的用户名一样的群组，并把用户划归到这个群组

+ `groupadd` 命令: group add。创建群组。命令后接需要创建的群组名。
+ `usermod` 命令: user modify。修改用户账户。
  + `usermod -g friends thomas` - 将 thomas 用户放到创建的 friends 群组
  + `usermod -G friends,happy thomas` - 将 thomas 用户放到创建的 friends、happy 群组。群组直接需要用逗号分隔。
  + `usermod -aG good thomas` - 将 thomas 用户追加到 good 群组中。
  + 注：使用 `usermod` 命令，配合 `-g` 或者 `-G` 参数时，会把用户从原来的群组里剔除，加入到新的群组。如果不想离开原先的群组，又想加入新的群组，可使用 `-a` 参数（append，表示“追加”），追加时需要用 `-G` 参数。
+ `groups` 命令: 获知一个用户属于哪个群组。
+ `groupdel` 命令: group delete。删除一个已存在的群组，命令后接需要删除的群组名。
+ `chown` 命令: change owner。需要 root 身份才能运行，改变文件的所有者。命令后接所有者的用户名，再接文件名。
  + `-R` 参数: 递归设置子目录和子文件。使得被修改目录的所有子目录和子文件都改变所有者。注意：只能使用大写的 R
  + `chown` 命令修改文件所有者和群组：`chown thomas:friends file.txt` - 将 file.txt 文件的所有者改为 thomas，群组为 friends
+ `chgrp` 命令: change group。改变文件的群组。命令后接所有者的用户名，再接文件名。

注: 只有 root 用户可以修改一个文件的所有者和群组

### 文件权限管理

Linux 系统里，每个文件和目录都有一列权限属性，访问权限指明了读写、修改、运行的权限。

文件访问权限符

+ d: directory，表示“目录”。说明这是一个目录。
+ l: link，表示“链接”。说明这是一个链接。
+ r: read，表示“读”。说明可以 读 这个文件。
+ w: write，表示“写”。说明可以 写/修改 这个文件。
+ x: execute，表示“执行/运行”。说明可以 运行 这个文件。
  
如果 x 权限在一个目录上，那么表示是这个目录可读。可以打开此目录和子文件，如果同时有 r 权限的话，如果相应位置有字母，表示有相应权限。短横（-），表示没有相应权限。

文件权限中，存在重复的文件访问权限符。是因为访问权限是按照用户来划分的：
![base_04](./files/images/base_04.png)

+ 第一组 rwx 表示文件的所有者对于此文件的访问权限
+ 第二组 rwx 表示文件所属的群组的其他用户对于此文件的访问权限
+ 第三组 rwx 表示除前两组之外的其他用户对于此文件的访问权限

+ `chmod` 命令: change mode。修改文件的访问权限。只需要是文件的所有者，就可以修改文件的访问权限
  
  Linux 系统对每种权限（r、w、x）分配了对应的数字：权限（r） - 4、权限（w） - 2、权限（x） - 1

  + 用数字来分配权限: `chmod` 命令的绝对用法 - 如果需要合并权限，只要将对应的数字相加。
    + 如果需要分配读写、写权限，那么就是 4 + 2 = 6，数字6 表示具有读和写的权限。

      ![base_05](./files/images/base_05.png)

    + 对于访问权限的三组（所有者的权限、群组用户的权限、其他用户的权限），只需要分别做加法，然后三个和连起来就可以了。
      + 777（最宽泛的权限） - 表示所有者、群组用户、其他用户都有读、写和运行的权限。000 - 没有人能对文件做什么。
      + `chmod 600 renamed_file` - 文件权限被修改为 `rw-------`
  + 用字母来分配权限: `chmod` 命令的相对用法
    + 字母分配权限所表示的意义：
      + u: user，表示“用户”。表示所有者
      + g: group，表示“群组”。表示群组用户
      + o: other，表示“其他”。表示其他用户
      + +: 加号。表示添加权限
      + -: 减号。表示去除权限
      + =: 等号。表示分配权限
    + 参数
      + `-R` 参数: 大写的R。可以递归地修改文件访问权限。示例：`chmod -R 700 /home/lrh` - 只允许 lrh 用户能 读、写、运行 /home/lrh 目录的所有文件
    + 示例
      + `chmod u+rx file`: 文件 file 的所有者增加 读、运行 的权限
      + `chmod g+r file`: 文件 file 的群组其他用户增加 读 的权限
      + `chmod o-r`: 文件 file 的其他用户移除读的权限
      + `chmod g+r o-r file`: 文件 file 的群组其他用户增加 读 的权限，其他用户移除 读 的权限
      + `chmod go-r file`: 文件 file 的群组其他用户和其他用户均移除 读 的权限
      + `chmod +x file`: 文件 file 的所用用户增加 运行 的权限
      + `chmod u=rwx,g=r,o=- file`: 文件 file 所有者分配 读、写、执行 的权限；群组其他用户分配 读 的权限，不能 写或者执行；其他用户没有任何权限

## 文本编辑器

Linux终端文本编辑器：Nano、Vim、Emacs、Gedit、Sublime、Atom等

### Nano

[Nano](https://www.nano-editor.org)是一个文本编辑器（可以编辑和查看文本文件，不能对文字做格式处理），不是文本处理器（不仅可以编辑和查看文档，而且可以对其文字进行格式处理，只能在图形界面下使用）

可以配置 .nanorc 和 .bashrc 文件，分别配置 Nano 和 终端

+ 启动 Nano
  
  CentOS 预装 Nano，只需要在终端输入 `nano`，即可打开 Nano 文本编辑器
+ Nano 快捷键

  Nano 编辑器界面下有两行帮助文档。`^` 表示 `Ctrl` 键，`^X` 表示 Exit 退出 Nano
  + `Ctrl + G`: 显示帮助文档
  + `Ctrl + O`: 保存文件
  + `Ctrl + R`: 打开其他文件
  + `Ctrl + Y`: 上一个屏幕，同 PaUp 键
  + `Ctrl + V`: 下一个屏幕，同 PaDn 键
  + `Ctrl + K`: 剪切当前一行
  + `Ctrl + X`: 退出
  + `Ctrl + W`: 查找
  + `Ctrl + U`: 粘贴刚剪切的内容
  + `Ctrl + \`: 替换
  + `Ctrl + F`: 向前移动一格光标
  + `Ctrl + B`: 向后移动一格光标
  + `Ctrl + P`: 向上移动一行
  + `Ctrl + N`: 向下移动一行
  + 键盘上的方向键（上、下、左、右）: 控制光标移动
  + ESC键 -> X键: 显示/隐藏 帮助文档
+ Nano 参数
  + `nano file.txt`: 用 Nano 打开 file.txt。如果 file.txt 不存在，就会创建一个空文件，命名为 file.txt
  + `-m` 参数: 激活鼠标。如果没有，则鼠标在 Nano 里不起作用，加了 `-m` 参数可以通过点击来控制光标的位置
  + `-i` 参数: 激活自动缩进的功能。
  + `-A` 参数: 激活智能 Home 键的功能。通常状况下，按下键盘 Home 键，光标会立即跳转到一行的最开始。使用此参数，会根据一行的开始处有无缩进来跳
+ 通过 .nanorc 来配置 Nano
  
  Linux 中的配置文件大多以 `.` 开头，而且多以 `rc` 结尾。Linux 或 Unix 的许多程序在启动时，都需要 `rc`（runcomm，即“run command” - 运行命令） 后缀的初始文件或者配置文件。
  
  `rc` 是很多脚本类文件的后缀，这些脚本通常在程序的启动阶段被调用，通常是 Linux 系统启动时。而 `.bashrc` 是当 Linux 的 Bash shell 启动后所运行的脚本。

  .nanorc 是一个隐藏文件，需要通过 `ls -a` 才能显示出来。可以在用户的家目录创建 .nanorc 文件，每次启动 Nano 前，都会读取此配置文件

  `nano .nanorc` - 使用 Nano 创建 .nanorc 配置文件

  配置语句以 set 或 unset 开头。set: 用于激活；unset: 用于关闭。
  + `set mouse`： 激活鼠标。相当于 `-m` 参数的作用
  + `set autoindent`: 激活自动缩进，相当于 `-i` 参数的作用
  + `set smarthome`: 激活智能 Home 键
+ 配置全局的 nanorc
  
  Nano 全局配置文件，为系统上所有用户所公共调用。但是在 /etc 中，是 /etc/nanorc。只能被 root 用户修改，修改该文件，建议使用 `sudo` 命令 - `sudo nano /etc/nanorc`
+ 通过 .bashrc 配置终端
  
  终端配置文件（.bashrc）,位于 /home/lrh/.bashrc ，一般来说默认存在。
  
  Bash 是一种常用的 shell 程序（外壳程序，是一个用户跟操作系统之间的一个命令解释器），`.bashrc` 就是 Bash 这个 shell 程序的配置文件。`.bashrc` 本身的语法也是 Bash 的语法，是一种脚本语言。

  Bash 配置文件：该配置文件是不用用户登录的终端。也就是一直在使用的终端形式，图形化的终端的情况。终端的 Bash 的全局配置文件位于: /etc/bashrc。家目录下的 `.bashrc` 文件的优先级比系统的 /etc/bashrc 文件高

  profile 配置文件：使用 tty2 - tty6 这5个命令行终端，他们没有图形界面，分别通过 Ctrl + Alt + F2 - F6 进入。profile 是这些需要登录的，非图形界面的终端的配置文件。终端的 profile 全局配置文件位于: /etc/profile。

  注：
  + profile 文件会调用 `.bashrc`，修改了 `.bashrc` 也就是间接修改了 profile 文件。profile 文件会用 profile 本身的配置再加上 `.bashrc` 配置。
  + 修改了 `.bashrc` 和 `.profile` 文件后，默认需要在用户下次登录系统时才生效。可以使用 `source` 命令来使用改动立即生效 - `source .bashrc` / `source .profile`

## 软件安装

软件包（Package）是软件的所有文件的压缩包。二进制形式，包含了安装软件的所有指令。

+ 在 Red Hat 一族（CentOS等）里，软件包的后缀是 `.rpm` （Red Hat Package Manager，表示红帽软件包管理器）
+ Debian 一族（Ubuntu，Debian等）里，软件包的后缀是 `.deb`

软件包的管理包括了**依赖关系**（一个软件依赖其他程序）的管理，不需要通过搜索引擎来找到并下载。几乎所有 `.rpm` 软件包存放在相同地方，称为软件仓库（repository）。用户可以选择软件仓库进行安装软件。

+ 通常来说，很少有一个软件可以单独在 Linux 上运行，也就是它不依赖于其他程序。
+ 一个软件经常需要使用其他程序或者其他程序的片段（称之为库）

### 管理软件仓库

CentOS 系统使用的软件仓库的列表是记录在 `/etc/yum.repos.d/CentOS-Base.repo` 中。这个文件是系统文件，只能被 root 用户修改。

[CentOS 官方源列表](https://www.centos.org/download/mirros/)

[修改CentOS默认yum源为国内yum镜像源](https://blog.csdn.net/inslow/article/details/54177191)

终端的软件包管理命令一般用 `yum`。`yum` 是 CentOS 中的默认包管理器工具，也用于 Red Hat 一族

+ `yum update` / `yum upgrade`: 更新软件包。两个命令都对软件进行升级，也都对内核进行升级。
  + `yum update`: 不删除旧包
  + `yum upgrade`: 删除旧包。`upgrade` 与附带 `--obsoletes` 的参数是的 `update` 是一样的。
+ `yum search`: 搜索软件包
+ `yum install`: 安装软件包
+ `yum remove` / `yum autoremove`: 删除软件包
+ 本地的 `.rpm` 软件包，可以用 `rpm` 命令来进行操作
  + `sudo rpm -i *.rpm` / `sudo yum localinstall *.rpm` - 用于安装
  + `sudo rpm -e 包名` / `sudo yum remove 包名` - 用于卸载

## RTFM阅读手册

`man` 命令: manual，表示“使用手册”。用于查看系统中自带的各种参考手册。命令后接想要显示使用手册的命令，函数等。主要包括

+ 可执行程序或 Shell 命令
+ 系统调用（Linux内核提供的函数）
+ 库调用（程序库中的函数）
+ 文件（例如：/etc/passwd）
+ 特殊文件（通常在 /dev 下）
+ 游戏
+ 杂项（例如: man(7)， groff(7)）
+ 系统管理命令（通常只能被 root 用户使用）
+ 内核子程序

相关命令：

+ `sudo yum install -y man-pages` - 安装 man 的手册
+ `sudo mandb` - 补全 man 的手册，更新到最新版
+ 输入 `man + 数字 + 命令/函数` 可以查到相关的命令和函数，若不加数字， man 默认从数字较小的手册中寻找相关命令和函数
+ `apropos` 命令：表示“关于...”。命令后接关键字，根据手册中的关键字来找到命令

手册页快捷键：

+ `↑键 / ↓键`：实现上一行 / 下一行的跳转
+ `PgUp键 / PgDn键（或空格键）`：实现上一页 / 下一页的跳转
+ `Home键 / End键`：实现开始 / 结尾的跳转
+ `/键（斜杠）`：实现搜索
+ `q键`：退出手册页

手册页的不同区域表示含义

+ `NAME`：表示”名字“。手册页对应的命令或函数名字，后接简单描述
+ `SYNOPSIS`：表示“概要，大意，摘要”。使用此命令的所有方法。SYNOPSIS 语法解释：
  + `粗体文字`：表示要原封不动的输入
  + `下划线的部分`：表示要用实际的内容替换
  + `[-hvc]`：-h，-v 和 -c 选项都是可选的，非强制性的
  + `[a|b]`：可以输入 a 或者 b 选项，但不能同时输入 a 和 b
  + `[OPTION]`：表示“选择”。可选的，中括号中的内容表示可选，不一定要添加选项参数
  + `option...`：省略号表示前面的内容可以输入任意多个
+ `DESCRIPTION`：表示“描述”。命令更深入的描述，包括所有参数及其用法
+ `AUTHOR`：表示“作者”。命令的作者
+ `COPYRIGHT`：表示“版权”。版权，使用的许可证（Licence）
+ `SEE ALSO`：表示“另见”。与此命令有关的其他命令。扩展阅读

其他阅读手册的方式

+ `-h` / `--help` 参数：在相关命令后使用该参数，显示帮助文档
+ `whatis` 命令：what is，表示“是什么”。man 命令的精简版，只会列出 man 命令显示的手册的开头部分，就是概述命令的作用
+ 网络搜索相关命令

## 查找文件

+ `locate` 命令：表示“定位”。搜索包含关键字的所有文件和目录。命令后接需要查找的文件名，也可以用正则表达式。

  刚创建的文件，为什么用 `locate` 命令查找不到?

  + `locate` 命令不会对实际的整个硬盘进行查找，而是在文件的数据库里查找记录。
  + 刚创建不久的文件，还没有被收录进文件数据库，因此 `locate` 命令找不到其索引。
  + Linux系统一般每天会更新一次文件数据库，只需要隔24小时再用 `locate` 命令查找，就可以找到了。
  + 可以使用 `updatedb` 命令（只能有 root 用户执行）强制系统立即更新文件数据库，然后使用 `locate` 命令查找。
+ `find` 命令：表示“找到”。也用于查找文件。`find` 命令不会再文件数据库中查找文件记录，而是遍历实际硬盘查找。
  
  用法：`find [何处] [何物] [做什么]`
  + `[何处]` 参数：用于指定在哪个目录中查找。此目录下所有子目录也会被查找，如果不指定该参数，则会默认在当前目录及子目录中查找。
  + `[何物]` 参数：用于查找什么。必须给出。根据文件的名字来查找，也可以根据其大小、最近访问时间等来查找。
    + `-name`：根据文件名查找，只会查找完全符合的文件，可以使用 `*（通配符）来实现匹配多个名称。`find /var/log -name "syslog*"` - 查找 /var/log 中所有以 syslog 关键字开头的文件
    + `-size`：根据文件大小查找。`find /var -size +10M` - 查找 /var 中大小超过10M的文件（查找小于文件大小的，可以使用 `-（减号）`）
    + `-atime`：根据文件的最近访问时间查找。`find -name "*.txt" -atime -7` - 查找当前目录下近七天以 .txt 结尾的文件（`-（减号）` 表示小于）
    + `-type`：根据文件类型查找。`-type d` - 表示只查找目录类型。`-type f` - 表示只查找文件类型。不指定则默认查找目录和文件。
  + `[做什么]` 参数：用于找到文件之后对文件进行后续操作。不指定该参数，`find` 命令只会显示找到的文件。
    + `-printf` 参数：print formatted，表示“格式化打印”。格式化打印结果。
  
      `find -name "*.txt" -printf "%p - %u\n"` - `%p` 表示文件名； `-` 表示一个短横；`%u` 表示文件的所有者；`\n` 表示换行。
    + `-delete` 参数：删除查找的文件，不会有确认提示。
  
      `find -name "*.jpg" -delete` - 删除当前目录下及其子目录下所有以 .jpg 为后缀的文件
    + `-exec` 参数：execute，表示“执行”。参数后接一个命令，对每个查找到的文件进行操作。
  
      `find one -name ".txt" -exec chmod 600 {} \;` - 对每个查找到的 .txt 结尾的文件，都进行 -exec 参数指定的操作：将 one 目录下所有查找到的 txt 文件的访问权限都修改为 600
      + `{}` - 会用查找到的每个文件来替换
      + `\;` - 必须的结尾
    + `-ok` 参数：对每一个查找到的文件，进程操作时都做确认提示。输入 `y` 表示对此文件进行操作，输入 `n` 表示对此文件不进程操作。

  查找过程中，如果出现“Permission denied”，表示“权限被否决”，可以切换成 root 身份，再来执行查找。

## 高级操作

### 数据操作

+ `grep` 命令：Globally search a Regular Expression and Print，表示“全局搜索一个正则表达式，并且打印”。在文件中查找关键字，并显示关键字所在的行。
  + `grep text file`：text 代表要搜索的文本，file 代表供搜索的文件
    + `-i` 参数：ignore，表示“忽略”。忽略大小写。默认情况下，`grep` 命令是区分大小写的。
    + `-n` 参数：number，表示“数字，编号”。显示搜索到的文本所在的行号。
    + `-v` 参数：invert，表示“颠倒，倒置”。只显示搜索的文本不在的行。
    + `-r` 参数：recursive，表示“递归”。在所有子目录和子文件中查找。相当于 `rgrep` 命令。
  + 配合正则表达式
  
    正则表达式使用单个字符串，来描述、匹配一系列符合某个句法规则的字符串。

    + 正则表达式常用特殊字符含义
      + `.`：匹配除 `\n` 之外的任何单个字符
      + `^`：行首（匹配输入字符串的开始位置）
      + `$`：行尾（匹配输入字符串的结束位置）
      + `[]`：在中括号中的任意一个字符
      + `?`：问号前面的元素可以出现零次或一次
      + `*`：星号前面的元素可能出现零次、一次或多次
      + `+`：加号前面的元素必须出现一次以上（包含一次）
      + `|`：逻辑或
      + `()`：表达式的分组（表示范围和优先度）
    + 参数
      + `-E` 参数：extend regular expression，表示“扩展的正则表达式”。使用正则表达式。相当于 `egrep` 命令。

+ `sort` 命令：sort，表示“排序”。用于对文件的行进行排序。命令后接需要排序的文件名。
  + `-o` 参数：output，表示“输出”。将排序后的内容写入新文件。
  + `-r` 参数：reverse，表示“相反，反面”。倒序排列。
  + `-R` 参数：random，表示“随机的，任意的”。随机排序。
  + `-n` 参数：对数字进行排序，按照从小到大排序。默认地，仅用 `sort` 命令的时候，不区分字符是否是数字的，会把这些数字看成字符串，按照1-9的顺序来排序。

+ `wc` 命令：word count。文件的统计，可以用来统计行数、字符数、字节数等。`wc` 命令显示的三个数字分别表示：行数（newline counts）、单词数（word counts）、字节数（byte counts）
  + `-i` 参数：line，表示“行”。统计行数。
  + `-w` 参数：word，表示“单词”。统计单词（用空格隔开的字符串）数目。
  + `-c` 参数：character，表示“字符”。统计字节数。
  + `-m` 参数：统计字符数。

+ `uniq` 命令：删除文件中重复内容，只能将连续的重复行变成一行。
  + `-c` 参数：count，表示“统计，计数”。统计重复的行数。
  + `-d` 参数：duplicated，表示“重复的”。只显示重复行的值。

+ `cut` 命令：cut，表示“剪切”。用于对文件的每一行进行剪切处理。
  + `-c` 参数：character，表示“字符”。根据字符串来剪切。`cut -c 2-4 name.txt` - name.txt 每行只保留第2到第4个字符。
  + `-d` 参数：delimiter，表示“分隔符”。用于指定用什么分隔符（比如逗号、分号、双引号等）。
  + `-f` 参数：field，表示“区域”。表示剪切下用分隔符分隔的那一块或哪几块区域。

+ 重定向

  重定向：把本来要显示在终端的命令结果，输送到文件中或者作为其他命令输入（命令的链接，或者叫命令管道）。通过在命令间插入特定的符号实现（这些符号可以被称为“重定向流”符号）。

  管道（pipeline）：把两个命令连起来使用，一个命令的输入作为另一个命令的输入

  流：在计算机及科学中，流是时间上可用的一系列数据元素，可以把流比喻成传送带上的物件，每个时间点传输一个，而不是多个打包传输。

  + 输出重定向符号
    + `>`：重定向到新的文件，可以将命令的输出结果重定向到选择的文件中。输出的文件如果不存在，则会新建；如果存在，则会把文件内容覆盖掉。不会进行提示。
      + `cut -d , -f 1- note.csv > students.txt` - 将 note.csv 文件以 `,` 分隔，剪切下 第1块区域到最后一块区域 的内容，重定向输出到 students.txt 文件中
    + `>>`：重定向的内容写入到文件末尾，起到追加的作用。如果文件不存在，则会创建。
    + `2>`：重定向错误输出，标准错误输出的文件描述符是2，所以2表示标准错误输出
      + `cat not_exist_file.csv > results.txt 2> errors.log` - `> results.txt` 表示将标准输出重定向到 results.txt 文件中，`2> errors.log` 表示将标准错误输出重定向到 errors.log 文件中
    + `2>>`：用于将标准错误输出重定向到文件末尾
    + `2>&1`：将标准错误输出重定向到与标准输出相同的地方
      + `cat not_exist_file.csv > results.txt 2>&1` - 将标准错误输出重定向到与标准输出都重定向 results.txt 中
      + `cat not_exist_file.csv >> results.txt 2>&1` - 将标准错误输出重定向到与标准输出都追加到 results.txt 的末尾
  + 输入重定向符号
    + `<`：用于指定命令的输入。
      + `cat < notes.csv`：接受的输入直接是 notes.csv 文件的内容。`cat` 命令只负责将其内容打印，打开文件并将文件传递给 `cat` 命令的工作交给终端完成。等同于 `cat notes.csv`，但原理不一样，首先打开 notes.csv 文件，然后打印出文件内容
    + `<<`：将键盘的输入重定向为某个命令的输入。
      + `sort -n << END`：输入命令之后，回车，终端进入键盘输入模式。END 为结束字符串，可以替换为其他的。
    + `sort -n << END > numbers_sorted.txt 2>&1` - 将键盘的输入重定向为 sort 命令的输入，并从小到大排序，以 END 为结束字符串，停止输入。重定向将标准错误输出重定向到与标准输出到 numbers_sorted.txt 文件中
  + `|` 管道：建立命令管道，也算是重定向流的一种。将一个命令的输入作为另一个命令的输入
    + `sudo grep log -Ir /var/log | cut -d : -f 1 | sort | uniq`
      + `sudo grep log -Ir /var/log` - 遍历 /var/log 这个目录及其子目录，列出所有包含 log 这个关键字的行。（`-I` 参数用于排除二进制文件。`-r` 参数用于递归遍历）
      + `cut -d : -f 1` - 从上一个命令的输入结果中，只剪切出文件名那一列（由冒号分给的第一个区域）
      + `sort`：将文件名列以首字母的字典顺序进行排序
      + `uniq`：去除重复文件名

  相关知识点：

  + CSV：Comma Separated Values，表示“逗号分隔值”。其后缀名是 .csv，通常可以被 Excel 等软件打开。
  + “黑洞”文件 - /dev/null。它是一个特殊的文件，不是目录。此文件具有唯一的属性：它总是空的。能使发送到 /dev/null 的任何数据作废
  + 文件描述符：File Descriptor，简称 fd。用于表述指向文件的引用的抽象化概念。在形式上是一个非负整数。实际上，它是一个索引值，指向操作系统内核为每一个进程所维护的该进程打开文件的记录值。当程序打开一个现有文件或者创建一个新文件时，内核向进程返回一个文件描述符。
  + stdin、stdout、stderr
    + stdin：从键盘向终端输入数据，这就是标准输入。终端接收键盘输入的命令，会产生两种输出：标准输出（stdout）和标准错误输出（stderr）
  
      标准输入流。standard input。标准输入流是指输入至程序的数据（通常是文件）。程序要求以读（read）操作来传输数据。并非所有程序都要求输入。如 `ls` 命令运行时不用任何输入。除非重定向，输入是预期由键盘获取的。标准输入的文件描述符为 0（零）
    + stdout：终端输出的信息（不包括错误信息）
  
      标准输出流。standard out。标准输出是指程序输出的数据。程序要求数据传输使用写的运算。并非所有程序都要求输出。如 `mv` 命令在成功时是没有输出的。除非重定向，输出是预期显示在终端上的，标准输出的文件描述符为 1（一）
    + stderr：终端输出的错误信息

      标准错误输出流。standard error。标准错误输出是另一个输出流，用于输出错误消息或诊断。它独立于标准输出，且标准输出和标准错误输出可以分别被重定向。标准错误输出的文件描述符为 2（二）

### 进程和系统监测

Linux是多任务多用户的操作系统。多用户可以同时在不同地方通过网络连接到同一个Linux系统。

多用户多任务的隐患：可能某个用户或者某个任务（其实就是运行着的程序），在某时让Linux系统过载了。

+ `w` 命令：快速了解系统中目前有哪些用户登录着以及在干什么。
  + `07:26:44 up 24 min, 2 users, load average: 0.00, 0.03, 0.12`
    + `07:26:44`：表示运行时间，用 `uptime` 命令也可以获取
    + `up 24 min`：表示运行正常的时间
    + `load average: 0.00, 0.03, 0.12`：表示负责，三个数值分别表示：1分钟之内的平均负载，5分钟之内的平均负载，15分钟之内的平均负载
  + 登陆的用户列表（用 `who` 命令也可以获取）
    + `USER`：用户名（登录名）
    + `TTY`：登陆的终端名称
      + `:0`：指本地
      + `pts`：pseudo terminal slave，表示“伪终端从属”
    + `FROM`：用户连接到的服务器的IP地址（或者主机名）
    + `LOGIN@`：用户连接系统的时间
    + `IDLE`：用户有多久没活跃了（没有任何命令）
    + `JCPU`：该终端所有相关的进程使用的CPU（处理器）时间，每当进程结束就停止计时，开始新的进程则会重新计时
    + `PCPU`：表示CPU（处理器）执行当前程序所消耗的时间，当前进程就是在WHAT列里面显示的进程
    + `WHAT`：当下用户正运行的程序
+ `ps` 命令：Process Status。用于显示当前系统中的进程，进程的静态列表（不会随时间而更新，只是运行 `ps` 命令当时的那个状态，类似于快照）。
  
  进程就是加载到内存中运行的程序，大多数程序运行时都只在内存中启动一个进程。
  + 不加参数运行命令，显示信息分别为：
    + `PID`：process identifier。进程号，每个进程有唯一的进程号
    + `TTY`：进程运行所在的终端
    + `TIME`：进程运行了多久
    + `CMD`：产生这个进程的程序名
  + 参数
    + `-ef` 参数：可以使 `ps` 命令列出所有用户在所有终端的所有进程
      + `ps -ef | less`：分页显示进程
      + 显示信息的列的含义：
        + `UID`：运行进程的用户
        + `PPID`：parent process ID。PPID是程序的父进程号
    + `-efH` 参数：可以使 `ps` 命令按照乔木状列出进程
    + `-u` 参数：列出此用户运行的进程
    + `-aux` 参数：通过CPU和内存使用来过滤进程
      + `ps -aux | less`：分页显示过滤出的进程。默认结果集是未排序的，可以通过 `--sort` 参数来排序
      + `ps -aux --sort -pcpu | less`：分页显示根据CPU使用率降序排列的结果
      + `ps -aux --sort -pmem | less`：分页显示根据内存使用率降序排列的结果
      + `ps -aux --sort -pcpu,+pmem | head`：将CPU和内存参数合并在一起，并通过管道显示前10个结果
+ `pstree` 命令：以树形结果显示进程。效果与 `ps -axjf` 类似
+ `top` 命令：进程的动态列表，进程是按照使用处理器的比率来排序的。
  + 快捷键
    + q 键：退出 top 进程列表
    + h 键：显示帮助文档
    + 按下任意键返回。q键回到 top 命令的主界面
    + b 键：加速某些信息
    + f/F 键：在进程列表中添加或删除某些列，或者改变进程列表排序所参照的列，默认按照 %CPU 一列来排序
    + u 键：依照用户来过滤显示
    + k 键：结束某个进程
    + s 键：改变刷新页面的时间，默认页面每隔3秒刷新一次
  + Linux中停止进程的方法
    + `Ctrl + C`：停止终端中正在运行的进程，只在终端中会这样执行。终端中复制/粘贴快捷键 - `Ctrl + Shift + C` / `Ctrl + Shift + V`
    + `kill` 命令：命令后接需要结束的进程号（PID）。可以用空格隔开，结束多个进程。
    + `killall` 命令：用于结束全部要结束的进程，命令后接程序名。同一个程序运行时可能启动多个进程。
    + `halt` 命令：关闭系统，需要以 root 身份运行
    + `reboot` 命令：重启系统，需要以 root 身份运行。`halt` 命令和 `reboot` 命令都调用了 `shutdown` 命令
    + `poweroff` 命令：用于关机，不需要以 root 身份运行
  + 系统监控软件
    + glances
    + htop

### 管理前后台进程

前台进程：默认情况下，用户创建的进程都是前台进程，前台进程从键盘读取数据，并把处理结果输出到显示器

后台进程：不必等待程序运行结束，就可以输入其他命令

+ `&` 符号：在后台运行进程。在运行的命令最后加上 `&` 符号。存在的缺陷是后台进程与终端相关联，如果关闭终端或者用户登出，进程也会自动结束
  + `sudo find / -name "*.log" &`：在后台运行查找根目录下以 .log 结束的文件。虽然在后台运行，但是前台还是会显示查找到的结果。
  + `sudo find / -name "*.log" > output_find 2>&1 &`：为了避免在查找过程中前端不断输出结果，可以使用重定向，将标准错误输出与标准输出重定向到 output_find 文件中

+ `nohup` 命令：使进程与终端分离，使命令不受 HUP 信号影响
+ `Ctrl + Z`：进程转到后台，并停止运行
+ `bg` 命令：background，表示“后台”。将命令转入后台运行。假如命令已经在后台，并暂停着，那么 `bg` 命令会将其状态改为运行。
  + 命令不加任何参数，`bg` 命令会默认作用域最近的一个后台进程
  + 命令后携带 `%1`，`%2` 这样的参数（或者不带 %，直接使用 1，2也可以），则作用于指定标号的进程
  + 如果使一个命令运行在后台，成为后台进程，但是忘记加 `&` 符号，可以按照以下顺序使此进程转为后台运行
    + `Ctrl + Z`：使进程转为后台暂停
    + `bg` 命令：使进程转为后台运行。(如果不首先使用 `Ctrl + Z` 将进程暂停，此进程就一直在前天运行，无法在命令提示符后面输入)
+ `jobs` 命令：显示当前终端里的后台进程状态
+ `fg` 命令：foreground，表示“前台”。使进程转为前台运行。与 `bg` 命令类似。

![base_06](./files/images/base_06.png)

相关知识点：

+ HUP：当用户注销（logout）或者网络断开时，终端会受到 HUP（hangup，表示“挂断”）信号，从而关闭其所有子进程，终端被关闭时也会关闭其子进程
+ 5种常见的进程状态
  + 运行（正在运行或在运行队列中等待），对应的状态码是 R，表示“运行 runnable（no run queue）”
  + 中断（休眠中，受阻，当某个条件形成后或接受到信号时，则脱离该状态），对应的状态码是 S，表示“中断 sleeping”
  + 不可中断（进程不响应系统异步信号，即使用 kill 命令也不能使其中断），对应的状态码是 D，表示“不可中断 uninterruptible sleep”
  + 僵死（进程已终止，但进程描述符依然存在，直到父进程调用 `wait4()` 系统函数后将进程释放），对应的状态码是 Z，表示“僵死 a defunct（“zombie”） process”
  + 停止（进程收到 SIGSTOP, SIGSTP, SIGTIN, SIGTOU 等停止信号后停止运行），对应的状态码是 T，表示“停止 traced or stopped”

### 任务的定时和延期

+ `date` 命令：调节时间。可以修改系统时间，修改需要使用 root 身份
  + `date "+%H"`：显示小时
  + `date "+%H:%M:%S"`：显示时分秒
  + `sudo date 10121430`：修改系统中的时间为 10月12日 14:30:00，其他保持不变
+ `at` 命令：设定一个程序的执行时间。注意，只能让程序执行一次。在指定时刻执行程序，`at` 命令使用顺序如下：
  + 先用 `at` 命令后接想要程序执行的确定时刻
    + `at 22:10 tomorrow` - 在 明天的22点10分 执行
    + `at 22:10 12/10/19` - 在 2019年12月10日的22点10分 执行
    + `at now +10 minutes` - 在10分钟之后执行指定程序（还可以使用 minutes - 分钟；hours - 小时；days - 天；weeks - 星期；months - 月；years - 年）
  + 再输入想要在以上指定时刻执行的命令
  + 使用 `Ctrl + D` 结束输入并退出 `at` 命令。`at` 会显示 `<EOT>`（End Of Transmission，表示“传输结束”）
+ `atq` 命令：列出正在等待执行的 at 任务
+ `atrm` 命令：删除正在等待执行的 at 任务。命令后接 at 任务的编号。
+ `sleep` 命令：在两句命令之间插入一定的暂停等待时间。可以用分号（;）隔开多个命令，使之一个接一个执行。默认情况下，`sleep` 后时间表示为秒，可以修改为分钟（m）、小时（h）、天（d）
  + `touch file.txt; sleep 10; rm file.txt` - 创建文件 file.txt；暂停10秒；删除 file.txt
+ `crontab`：其实是一个命令。用来读取和修改名为 crontab 的文件，包含了定时执行的程序列表，也包含了执行的时刻。
  + 安装 `crontab`
    + 适用于CentOS（Red Hat 一族）中安装
      + `sudo yum insall vixie-cron crontabs` - 安装 Crontab
      + `chkconfig crond on` - 设为开机自启动
      + `service crond start` - 启动
    + 适用于Ubuntu（Debian 一族）中安装
      + `sudo apt install cron` - 安装 Crontab
      + `service cron restart` / `restart cron` - 重启 Crontab
  + 配置工作，修改 `.bashrc` 文件，将 Nano 文本编辑器修改为默认文本编辑器，也可以保持默认，使用 vi 文本编辑器
    + `echo "export EDITOR=nano" >> ~/.bashrc` - 将默认文本编辑器修改为 Nano
    + `source .bashrc` - 使修改立即生效
  + 相关命令
    + `crontab` 命令：用于修改 crontab 文件
    + `cron` 命令：用于实际执行定时的程序
  + 相关参数
    + `-l` 参数：显示 crontab 文件
    + `-e` 参数：修改 crontab 文件。如果没有 crontab 文件，则会新建。
      + 修改 crontab 文件编辑格式为：`m h dom mon dow command`
        + m：minute，表示分钟，取值为 0-59
        + h：hour，表示小时，取值为 0-23
        + dom：day of month，表示一个月的哪一天，取值为 1-31
        + mon：month，表示月份，取值为 1-12
        + dow：day of week，表示星期几，取值为 0-6，星期日是 0
        + command：表示需要定时执行的命令
      + 相关示例
        + `10 22 * * * touch ~/file.txt` - 每天的22点10分 都在家目录下创建 file.txt 文件（路径最好使用绝对路径）
        + `47 * * * * command` - 每个小时的47分 都执行 command 命令
        + `0 0 * * 1` - 每周一的凌晨 都执行 command 命令
        + `30 5 1-15 * * command` - 每个月的1-15日的5点30分 都执行 command 命令
        + `0 0 * * 1,3,4 command` - 每周一，周三，周四的凌晨 都执行 command 命令
        + `0 */2 * * * command` - 每2小时的整点（0，2，4，6，等等） 都执行 command 命令
        + `*/10 * * * 1-5 command` - 每周一到周五的每个10的倍数的分钟（0，10，20，30等） 都执行 command 命令
    + `-r` 参数：删除 crontab 文件

相关知识点：

+ `&&` 符号：`&&` 符号前的命令执行成功，才会执行后面的命令
+ `||` 符号：`||` 符号前的命令执行失败，才会执行后面的命令
+ `;` 符号：不论分号前的命令执行成功与否，都执行分号后的命令

### 文件的解压和压缩
