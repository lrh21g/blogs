import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as t,e as n,w as d,r as c,o as h,a as i,b as e}from"./app-CwERxs91.js";const r={};function p(k,s){const l=c("CodeDemo");return h(),a("div",null,[s[1]||(s[1]=t('<h1 id="position" tabindex="-1"><a class="header-anchor" href="#position"><span>position</span></a></h1><p><code>position</code> 属性用于指定一个元素在文档中的定位方式。</p><ul><li><code>static</code> ：该关键字指定元素使用正常的布局行为，即元素在文档常规流中当前的布局位置。此时 top, right, bottom, left 和 z-index 属性无效。</li><li><code>relative</code> ：该关键字下，元素先放置在未添加定位时的位置，再在不改变页面布局的前提下调整元素位置（因此会在此元素未添加定位时所在位置留下空白）。</li><li><code>absolute</code> ：元素会被移出正常文档流，并不为元素预留空间，通过指定元素相对于最近的非 static 定位祖先元素的偏移，来确定元素位置。绝对定位的元素可以设置外边距（margins），且不会与其他边距合并。</li><li><code>fixed</code> ：元素会被移出正常文档流，并不为元素预留空间，而是通过指定元素相对于屏幕视口（viewport）的位置来指定元素位置。元素的位置在屏幕滚动时不会改变。fixed 属性会创建新的层叠上下文。当元素祖先的 transform、perspective、filter 或 backdrop-filter 属性非 none 时，容器由视口改为该祖先。</li><li><code>sticky</code> ：元素根据正常文档流进行定位，然后相对它的最近滚动祖先（nearest scrolling ancestor）和包含块（最近块级祖先 nearest block-level ancestor），包括 table-related 元素，基于 top、right、bottom 和 left 的值进行偏移。偏移值不会影响任何其他元素的位置。该值总是创建一个新的层叠上下文（stacking context）。</li></ul><h2 id="position-absolute" tabindex="-1"><a class="header-anchor" href="#position-absolute"><span>position: absolute</span></a></h2><h3 id="absolute-和-float-的共性" tabindex="-1"><a class="header-anchor" href="#absolute-和-float-的共性"><span>absolute 和 float 的共性</span></a></h3><ul><li>块状化：元素一旦 <code>position</code> 属性值为 <code>absolute</code> 或 <code>fixed</code>，其 <code>display</code> 计算值就是 <code>block</code> 或者 <code>table</code>。</li><li>破坏性：破坏正常的流特性。</li><li>块级格式化上下文。</li><li>包裹性：尺寸收缩包裹，同时具有自适应性。和 <code>float</code> 或其他 “包裹性” 声明带来的 “自适应性” 相比，<code>absolute</code> 的自适应性最大宽度往往不是由父元素决定的。</li></ul><p>当 <code>absolute</code> 和 <code>float</code> 同时存在的时候，<code>float</code> 属性是无任何效果的。</p><h3 id="absolute-的包含块" tabindex="-1"><a class="header-anchor" href="#absolute-的包含块"><span>absolute 的包含块</span></a></h3><p>包含块（containing block）是元素用来计算和定位的一个框。</p><p>普通元素的百分比宽度是相对于父元素的 content box 宽度计算的，而绝对定位元素的宽度是相对于第一个 <code>position</code> 不为 <code>static</code> 的祖先元素计算的。</p><p>计算规则：</p><ul><li>根元素（很多场景下可以看成是 <code>&lt;html&gt;</code> ）被称为“初始包含块”，其尺寸等同于浏览器可视窗口的大小。</li><li>对于其他元素，如果该元素的 <code>position</code> 是 <code>relative</code> 或者 <code>static</code>，则“包含块”由其最近的块容器祖先盒的 content box 边界形成。</li><li>如果元素 <code>position:fixed</code>，则 “包含块” 是 “初始包含块”。</li><li>如果元素 <code>position:absolute</code>，则 “包含块” 由最近的 <code>position</code> 不为 <code>static</code> 的祖先元素建立，具体方式如下： <ul><li>如果该祖先元素是纯 inline 元素： <ul><li>假设给内联元素的前后各生成一个宽度为 0 的内联盒子（inline box），则这两个内联盒子的 padding box 外面的包围盒就是内联元素的 “包含块”；</li><li>如果该内联元素被跨行分割了，那么 “包含块” 是未定义的，也就是 CSS2.1 规范并没有明确定义，浏览器自行发挥。</li></ul></li><li>否则，“包含块” 由该祖先的 padding box 边界形成。</li></ul></li><li>如果没有符合条件的祖先元素，则 “包含块” 是 “初始包含块” 。</li></ul><p>和常规元素相比，absolute 绝对定位元素的 “包含块” 有以下3个明显差异</p><ul><li><p>内联元素也可以作为 “包含块” 所在的元素。</p></li><li><p>“包含块” 所在的元素不是父块级元素，而是最近的 <code>position</code> 不为 <code>static</code> 的祖先元素或根元素。</p><p>对于普通元素，<code>height:100%</code> 和 <code>height:inherit</code> 没什么区别。</p><p>对于绝对定位元素，<code>height:100%</code> 是第一个具有定位属性值的祖先元素的高度，而 <code>height:inherit</code> 则是单纯的父元素的高度继承，在某些场景下非常好用。</p></li><li><p>边界是 padding box 而不是content box。</p></li></ul><h3 id="无依赖绝对定位" tabindex="-1"><a class="header-anchor" href="#无依赖绝对定位"><span>无依赖绝对定位</span></a></h3><p>一个绝对定位元素，没有任何 left/top/right/bottom 属性设置（称为 “无依赖绝对定位”），并且其祖先元素全部都是非定位元素，其位置还是当前位置。</p><p>“无依赖绝对定位” 本质上就是 “相对定位”，仅仅是不占据 CSS 流的尺寸空间而已。</p><h3 id="absolute-和-text-align" tabindex="-1"><a class="header-anchor" href="#absolute-和-text-align"><span>absolute 和 text-align</span></a></h3><p><code>text-align</code> 可以改变 <code>absolute</code> 元素的位置。</p>',19)),n(l,{id:"code-demo-168",type:"normal",title:"%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE%E7%A1%AE%E5%AE%9E%E5%8F%97%20text-align%20%E5%B1%9E%E6%80%A7%E5%BD%B1%E5%93%8D",code:"eJxlj8tuwyAQRX9lNOsa1K4q6vZL2LjOCKhsQMwkjRTl30tM7bxWgw5nHveEXuYJDfa7cIBxGpg/LXoKzkv3+vaejxa/bATo8/YrdJRumIKL3UhRqPwrVQqz27TfsBPfZsDtQMiJg4QUu+Gb07QXsghcxstekcxG68OeciFmVR8/rFJxOsyDI9aeSlI5uvUqnWvtdT2+VnzBkbmGUbe7TxdxAQYW8mHj2UYb1d1Vi9bIo/cUuMlXbKDxreMpYutYsYGVtw48/wE5Jofe"},{default:d(()=>s[0]||(s[0]=[i("div",{class:"language-html line-numbers-mode","data-highlighter":"shiki","data-ext":"html",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-html"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"div"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," class"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"height-128px"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  <"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"p"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," class"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"text-align-center"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    <"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"img"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," class"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"width-128px height-128px position-absolute"'),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," src"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"https://vuepress.vuejs.org/images/hero.png"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  </"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"p"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"</"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"div"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("div",{class:"language-css line-numbers-mode","data-highlighter":"shiki","data-ext":"css",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-css"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},".width-128px"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  width: "),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"128"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#E06C75"}},"px"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),e(`
`),i("span",{class:"line"}),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},".height-128px"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  height: "),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"128"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#E06C75"}},"px"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),e(`
`),i("span",{class:"line"}),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},".text-align-center"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  text-align: "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#D19A66"}},"center"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),e(`
`),i("span",{class:"line"}),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},".position-absolute"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  position: "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#D19A66"}},"absolute"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1,__:[0]}),s[2]||(s[2]=t('<p>示例中，图片位置确实受 <code>text-align</code> 属性影响，但是并不是 <code>text-align</code> 和 <code>absolute</code> 元素直接发生关系，<code>absolute</code> 元素的 <code>display</code> 计算值是块状的，<code>text-align</code> 是不会有作用的。这里之所以产生了位置变化，本质上是 “幽灵空白节点” 和 “无依赖绝对定位” 共同作用的结果。</p><ul><li>由于 <code>&lt;img&gt;</code> 是内联水平，<code>&lt;p&gt;</code> 标签中存在一个宽度为 0、看不见摸不着的 “幽灵空白节点”，也是内联水平，于是受 <code>text-align:center</code> 影响而水平居中显示。</li><li><code>&lt;img&gt;</code> 设置了 <code>position: absolute</code>，表现为“无依赖绝对定位”，因此在 “幽灵空白节点” 后面定位显示；同时，由于图片不占据空间，这里的 “幽灵空白节点” 当仁不让，正好在 <code>&lt;p&gt;</code> 元素水平中心位置显示，于是就看到了图片从 <code>&lt;p&gt;</code> 元素水平中间位置显示的效果。</li></ul><h3 id="absolute-与-overflow" tabindex="-1"><a class="header-anchor" href="#absolute-与-overflow"><span>absolute 与 overflow</span></a></h3><p><code>overflow</code> 对 <code>absolute</code> 元素的剪裁规则：绝对定位元素不总是被父级 <code>overflow</code> 属性剪裁，尤其当 <code>overflow</code> 在绝对定位元素及其包含块之间的时候。即：如果 <code>overflow</code> 不是定位元素，同时绝对定位元素和 <code>overflow</code> 容器之间也没有定位元素，则 <code>overflow</code> 无法对 <code>absolute</code> 元素进行剪裁。</p><h2 id="position-relative" tabindex="-1"><a class="header-anchor" href="#position-relative"><span>position: relative</span></a></h2><p><code>relative</code>/<code>absolute</code>/<code>fixed</code> 都能对 <code>absolute</code> 的“包裹性”以及“定位”产生限制，但只有``relative` 可以让元素依然保持在正常的文档流中。</p><p><code>relative</code> 定位特性</p><ul><li>相对自身。</li><li>无侵入（当 <code>relative</code> 进行定位偏移的时候，一般情况下不会影响周围元素的布局）。</li><li>相对定位元素的 left/top/right/bottom 的百分比值是相对于包含块计算的，而不是自身。注意，虽然定位位移是相对自身，但是百分比值的计算值不是。 <ul><li>top 和 bottom 这两个垂直方向的百分比值计算跟 height 的百分比值是一样的，都是相对高度计算的。</li><li>如果包含块的高度是 auto，那么计算值是 0，偏移无效，也就是说，如果父元素没有设定高度或者不是“格式化高度”，那么 relative 类似 top:20% 的代码等同于 top:0。</li></ul></li><li>当相对定位元素同时应用对立方向定位值的时候，也就是 top/bottom 和 left/right 同时使用的时候，其表现和绝对定位差异很大。 <ul><li>绝对定位是尺寸拉伸，保持流体特性。</li><li>相对定位只有一个方向的定位属性会起作用，与文档流的顺序有关的。默认的文档流是自上而下、从左往右，因此 top/bottom 同时使用的时候，bottom 被干掉；left/right 同时使用的时候，right 被干掉。</li></ul></li></ul>',8))])}const u=o(r,[["render",p]]),B=JSON.parse('{"path":"/%E5%89%8D%E7%AB%AF/CSS/CSS%E5%9F%BA%E7%A1%80/position.html","title":"position","lang":"zh-CN","frontmatter":{"category":"CSS基础","tag":["CSS"],"description":"position position 属性用于指定一个元素在文档中的定位方式。 static ：该关键字指定元素使用正常的布局行为，即元素在文档常规流中当前的布局位置。此时 top, right, bottom, left 和 z-index 属性无效。 relative ：该关键字下，元素先放置在未添加定位时的位置，再在不改变页面布局的前提下调整元素位...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"position\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-04-08T16:42:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.LRH\\",\\"url\\":\\"https://lrh21g.github.io/blogs/\\"}]}"],["meta",{"property":"og:url","content":"https://lrh21g.github.io/blogs/%E5%89%8D%E7%AB%AF/CSS/CSS%E5%9F%BA%E7%A1%80/position.html"}],["meta",{"property":"og:site_name","content":"Mr.LRH 博客"}],["meta",{"property":"og:title","content":"position"}],["meta",{"property":"og:description","content":"position position 属性用于指定一个元素在文档中的定位方式。 static ：该关键字指定元素使用正常的布局行为，即元素在文档常规流中当前的布局位置。此时 top, right, bottom, left 和 z-index 属性无效。 relative ：该关键字下，元素先放置在未添加定位时的位置，再在不改变页面布局的前提下调整元素位..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-08T16:42:45.000Z"}],["meta",{"property":"article:tag","content":"CSS"}],["meta",{"property":"article:modified_time","content":"2025-04-08T16:42:45.000Z"}]]},"git":{"createdTime":1744130565000,"updatedTime":1744130565000,"contributors":[{"name":"lrh","username":"lrh","email":"lingronghai@foxmail.com","commits":1,"url":"https://github.com/lrh"}]},"readingTime":{"minutes":6.36,"words":1909},"filePathRelative":"前端/CSS/CSS基础/position.md","excerpt":"\\n<p><code>position</code> 属性用于指定一个元素在文档中的定位方式。</p>\\n<ul>\\n<li><code>static</code> ：该关键字指定元素使用正常的布局行为，即元素在文档常规流中当前的布局位置。此时 top, right, bottom, left 和 z-index 属性无效。</li>\\n<li><code>relative</code> ：该关键字下，元素先放置在未添加定位时的位置，再在不改变页面布局的前提下调整元素位置（因此会在此元素未添加定位时所在位置留下空白）。</li>\\n<li><code>absolute</code> ：元素会被移出正常文档流，并不为元素预留空间，通过指定元素相对于最近的非 static 定位祖先元素的偏移，来确定元素位置。绝对定位的元素可以设置外边距（margins），且不会与其他边距合并。</li>\\n<li><code>fixed</code> ：元素会被移出正常文档流，并不为元素预留空间，而是通过指定元素相对于屏幕视口（viewport）的位置来指定元素位置。元素的位置在屏幕滚动时不会改变。fixed 属性会创建新的层叠上下文。当元素祖先的 transform、perspective、filter 或 backdrop-filter 属性非 none 时，容器由视口改为该祖先。</li>\\n<li><code>sticky</code> ：元素根据正常文档流进行定位，然后相对它的最近滚动祖先（nearest scrolling ancestor）和包含块（最近块级祖先 nearest block-level ancestor），包括 table-related 元素，基于 top、right、bottom 和 left 的值进行偏移。偏移值不会影响任何其他元素的位置。该值总是创建一个新的层叠上下文（stacking context）。</li>\\n</ul>","autoDesc":true}');export{u as comp,B as data};
