# RegExp

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ã€‚åœ¨ JavaScript ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ã€‚

æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¢«ç”¨äº `RegExp` çš„ `exec` å’Œ `test` æ–¹æ³•ï¼Œä»¥åŠ `String` çš„ `match`ã€`matchAll`ã€`replace`ã€`search` å’Œ `split` æ–¹æ³•ã€‚

## ä½ç½®åŒ¹é…

å¯¹ä½ç½®çš„ç†è§£ï¼Œå¯ä»¥ç†è§£ä¸ºç©ºå­—ç¬¦ `""` ï¼Œç›¸é‚»å­—ç¬¦ä¹‹é—´çš„ä½ç½®ã€‚

```javascript
// 'hello' å­—ç¬¦ä¸²ç­‰ä»·äºå¦‚ä¸‹å½¢å¼ï¼š
'hello' == '' + 'h' + '' + 'e' + '' + 'l' + '' + 'l' + '' + 'o' + ''
// åŒæ—¶ï¼Œä¹Ÿç­‰ä»·äºå¦‚ä¸‹å½¢å¼ï¼š
'hello' == '' + '' + 'hello'
```

### ^ å’Œ $

- `^` ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…è¡Œå¼€å§‹ä½ç½®ã€‚
- `$` ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…è¡Œç»“æŸä½ç½®ã€‚

```javascript
'hello'.replace(/^|$/g, '#') // '#hello#'

// å¤šè¡ŒåŒ¹é…æ¨¡å¼ï¼ˆå³ï¼Œä½¿ç”¨ä¿®é¥°ç¬¦ mï¼‰
'hello\nworld\njavascript'.replace(/^|$/gm, '#')
// '#hello#\n#world#\n#javascript#'

let fruits = ['Apple', 'Watermelon', 'Orange', 'Avocado', 'Strawberry']
// /^[^A]/ è¡¨ç¤ºåŒ¹é…ä¸ä»¥ 'A' å¼€å¤´çš„å­—ç¬¦ä¸²
// å…¶ä¸­ï¼Œ[^A] è¡¨ç¤ºåŒ¹é…ä¸æ˜¯ 'A' çš„å­—ç¬¦
fruits.filter((fruit) => /^[^A]/.test(fruit))
// [ 'Watermelon', 'Orange', 'Strawberry' ]
```

### \b å’Œ \B

- `\b` ï¼šåŒ¹é…å•è¯è¾¹ç•Œã€‚å³åŒ…æ‹¬ä»‹äº `\w` ä¸ `\W` ã€`\w` ä¸ `^` ã€ `\w` ä¸ `$` ä¹‹é—´çš„ä½ç½®ã€‚
- `\B` ï¼šåŒ¹é…éå•è¯è¾¹ç•Œã€‚å³åŒ…æ‹¬ä»‹äº `\w` ä¸ `\w` ã€ `\W` ä¸ `\W` ã€ `\W` ä¸ `$` ä¹‹é—´çš„ä½ç½®ã€‚

```javascript
'[JavaScript] Lesson_01.mp4'.replace(/\b/g, '#')
// '[#JavaScript#] #Lesson_01#.#mp4#'

'[JavaScript] Lesson_01.mp4'.replace(/\B/g, '#')
// '#[J#a#v#a#S#c#r#i#p#t]# L#e#s#s#o#n#_#0#1.m#p#4'

let fruitsWithDescription = ['Red apple', 'Orange orange', 'Green Avocado']
// /(en|ed)\b/ è¡¨ç¤ºåŒ¹é…ä»¥ 'en' æˆ– 'ed' ç»“å°¾çš„å­—ç¬¦ä¸²
fruitsWithDescription.filter((descr) => /(en|ed)\b/.test(descr))
// [ 'Red apple', 'Green Avocado' ]
```

### x(?=y) ã€ x(?!y) ã€ (?<=y)x ã€ (?<!y)x

- `x(?=y)` ï¼š`x` åé¢æ˜¯ `y` æ—¶åŒ¹é… `x`ã€‚
- `x(?!y)` ï¼š`x` åé¢ä¸æ˜¯ `y` æ—¶åŒ¹é… `x`ã€‚
- `(?<=y)x` ï¼š`x` å‰é¢æ˜¯ `y` æ—¶åŒ¹é… `x`ã€‚
- `(?<!y)x` ï¼š`x` å‰é¢ä¸æ˜¯ `y` æ—¶åŒ¹é… `x`ã€‚

```javascript
// /(?=l)/ å¯ä»¥ç†è§£ä¸º '' åé¢æ˜¯ 'l' æ—¶åŒ¹é… ''ï¼Œå³åŒ¹é…å­—ç¬¦ 'l' å‰é¢çš„ä½ç½®
'hello'.replace(/(?=l)/g, '#') // 'he#l#lo'
// /e(?=l)/ è¡¨ç¤º 'e' åé¢æ˜¯ 'l' æ—¶åŒ¹é… 'e'
'hello'.replace(/e(?=l)/g, '#') // 'h#llo'

// /(?!l)/ å¯ä»¥ç†è§£ä¸º '' åé¢ä¸æ˜¯ 'l' æ—¶åŒ¹é… ''ï¼Œå³åŒ¹é…å­—ç¬¦åé¢ä¸æ˜¯ 'l' çš„ä½ç½®
'hello'.replace(/(?!l)/g, '#') // '#h#ell#o#'
// /h(?!l)/ è¡¨ç¤º 'h' åé¢ä¸æ˜¯ 'l' æ—¶åŒ¹é… 'h'
'hello'.replace(/h(?!l)/g, '#') // '#ello'

// /(?<=l)/ å¯ä»¥ç†è§£ä¸º '' å‰é¢æ˜¯ 'l' æ—¶åŒ¹é… ''ï¼Œå³åŒ¹é…å­—ç¬¦ 'l' åé¢çš„ä½ç½®
'hello'.replace(/(?<=l)/g, '#') // 'hel#l#o'
// /(?<=l)o/ è¡¨ç¤º 'o' å‰é¢æ˜¯ 'l' æ—¶åŒ¹é… 'o'
'hello'.replace(/(?<=l)o/g, '#') // 'hell#'

// /(?<!l)/ å¯ä»¥ç†è§£ä¸º '' å‰é¢ä¸æ˜¯ 'l' æ—¶åŒ¹é… ''ï¼Œå³åŒ¹é…å­—ç¬¦å‰é¢ä¸æ˜¯ 'l' çš„ä½ç½®ï¼Œ
'hello'.replace(/(?<!l)/g, '#') // '#h#e#llo#'
// /(?<!l)e/ è¡¨ç¤º 'e' å‰é¢ä¸æ˜¯ 'l' æ—¶åŒ¹é… 'e'
'hello'.replace(/(?<!l)e/g, '#') // 'h#llo'
```

### ç›¸å…³ç¤ºä¾‹

```javascript
// ä¸åŒ¹é…ä»»ä½•å­—ç¬¦
// è¯¥æ­£åˆ™è¦æ±‚åªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œä½†å­—ç¬¦åé¢æ˜¯åŒ¹é…å¼€å§‹ä½ç½®ï¼Œè¿™æ ·çš„å­—ç¬¦ä¸²ä¸å­˜åœ¨
let mismatchingRegExp = /.^/

// é‡‘é¢æ ¼å¼åŒ– - åƒåˆ†ä½
let numberFormatByThousandsRegExp = /\B(?=(\d{3})+\b)/g
'12345678'.replace(numberFormatByThousandsRegExp, ',') // '12,345,678'
'12345678 12345678'.replace(numberFormatByThousandsRegExp, ',') // '12,345,678 12,345,678'

// éªŒè¯å¯†ç è§„åˆ™ï¼šå¯†ç é•¿åº¦ 6-12 ä½ï¼Œç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆï¼Œä½†å¿…é¡»è‡³å°‘åŒ…æ‹¬ 2 ç§å­—ç¬¦
let passwordVerifyRegExpOne =
  /((?=.*[0-9])(?=.*[a-z])|(?=.*[0-9])(?=.*[A-Z])|(?=.*[a-z])(?=.*[A- Z]))^[0-9A-Za-z]{6,12}$/
passwordVerifyRegExpOne.test('1234567') // false ï¼Œå…¨æ˜¯æ•°å­—
passwordVerifyRegExpOne.test('abcdef') // false ï¼Œå…¨æ˜¯å°å†™å­—æ¯
passwordVerifyRegExpOne.test('ABDCEF') // false ï¼Œå…¨æ˜¯å¤§å†™å­—æ¯
passwordVerifyRegExpOne.test('abc12') // false ï¼Œä¸æ»¡ 6 ä½
passwordVerifyRegExpOne.test('abc123') // true
passwordVerifyRegExpOne.test('abc123ABC') // true

let passwordVerifyRegExpTwo = /(?!^[0-9]{6,12}$)^[0-9A-Za-z]{6,12}$/
passwordVerifyRegExpTwo.test('1234567') // false ï¼Œå…¨æ˜¯æ•°å­—
passwordVerifyRegExpTwo.test('abcdef') // false ï¼Œå…¨æ˜¯å°å†™å­—æ¯
passwordVerifyRegExpTwo.test('ABDCEF') // false ï¼Œå…¨æ˜¯å¤§å†™å­—æ¯
passwordVerifyRegExpTwo.test('abc12') // false ï¼Œä¸æ»¡ 6 ä½
passwordVerifyRegExpTwo.test('abc123') // true
passwordVerifyRegExpTwo.test('abc123ABC') // true
```

## å­—ç¬¦ç±»ä¸é‡è¯

### å­—ç¬¦ç»„

- `[xyz] æˆ– [a-c]` ï¼šåŒ¹é…**åŒ…å«**åœ¨æ–¹æ‹¬å·ä¸­çš„ä»»ä½•å­—ç¬¦ã€‚å¯ä»¥ä½¿ç”¨ä½¿ç”¨è¿å­—ç¬¦ï¼ˆ`-`ï¼‰æŒ‡å®šå­—ç¬¦èŒƒå›´ã€‚
- `[^xyz] æˆ– [^a-c]` ï¼šåŒ¹é…**æœªåŒ…å«**åœ¨æ–¹æ‹¬å·ä¸­çš„ä»»ä½•å­—ç¬¦ã€‚å¯ä»¥ä½¿ç”¨ä½¿ç”¨è¿å­—ç¬¦ï¼ˆ`-`ï¼‰æŒ‡å®šå­—ç¬¦èŒƒå›´ã€‚

æ³¨æ„ï¼š

- è¿å­—ç¬¦ï¼ˆ`-`ï¼‰å‡ºç°åœ¨æ–¹æ‹¬å·ä¸­çš„ç¬¬ä¸€ä¸ªæˆ–æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œåˆ™ä½œä¸ºæ™®é€šå­—ç¬¦åŒ…å«åœ¨å­—ç¬¦ç±»ä¸­ã€‚
- æ’å…¥ç¬¦å·ï¼ˆ`^`ï¼‰ä»…åœ¨å¼€å¤´ä¼šè¢«è½¬ä¹‰ï¼ˆè¡¨ç¤ºæ’é™¤ï¼‰ã€‚
- æ­£åˆ™è¡¨è¾¾å¼ `[-().^+]` è¡¨ç¤ºæŸ¥æ‰¾ `-().^+` ä¸­çš„ä»»ä½•å­—ç¬¦ã€‚

### åˆ†æ”¯é€‰æ‹©

- `x|y` ï¼šåŒ¹é… `'x'` æˆ– `'y'` ã€‚æ¯ä¸ªç”±ç®¡é“ç¬¦ (`|`) åˆ†éš”çš„éƒ¨åˆ†ç§°ä¸ºä¸€ä¸ªå¯é€‰é¡¹ã€‚

### å­—ç¬¦ç±»ç®€å†™

- `.` ï¼šåŒ¹é…é™¤ç»ˆæ­¢ç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚ç»ˆæ­¢ç¬¦åŒ…æ‹¬ `\n` ï¼ˆæ¢è¡Œç¬¦ï¼‰ã€ `\r` ï¼ˆå›è½¦ç¬¦ï¼‰ã€ `\u2028` ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰ã€ `\u2029` ï¼ˆæ®µè½åˆ†éš”ç¬¦ï¼‰ã€‚
- `\d` ï¼šç›¸å½“äº `[0-9]`ã€‚åŒ¹é…ä»»ä½•æ•°å­— (é˜¿æ‹‰ä¼¯æ•°å­—)ã€‚
- `\D` ï¼šç›¸å½“äº `[^0-9]`ã€‚åŒ¹é…ä»»ä½•éæ•°å­— (é˜¿æ‹‰ä¼¯æ•°å­—) çš„å­—ç¬¦ã€‚
- `\w` ï¼šç›¸å½“äº `[A-Za-z0-9_]`ã€‚åŒ¹é…åŸºæœ¬æ‹‰ä¸å­—æ¯ä¸­çš„ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸‹åˆ’çº¿ã€‚
- `\W` ï¼šç›¸å½“äº `[^A-Za-z0-9_]`ã€‚åŒ¹é…ä»»ä½•ä¸æ˜¯æ¥è‡ªåŸºæœ¬æ‹‰ä¸å­—æ¯çš„å•è¯å­—ç¬¦ã€‚
- `\s` ï¼šç›¸å½“äº `[\f\n\r\t\v\u0020\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]`ã€‚åŒ¹é…å•ä¸ªç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ã€æ¢è¡Œç¬¦å’Œå…¶ä»– Unicode ç©ºæ ¼ã€‚
- `\S` ï¼šç›¸å½“äº `[^\f\n\r\t\v\u0020\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]`ã€‚åŒ¹é…é™¤ç©ºæ ¼ä»¥å¤–çš„å•ä¸ªå­—ç¬¦ã€‚
- `\t` ï¼šåŒ¹é…æ°´å¹³åˆ¶è¡¨ç¬¦ã€‚
- `\r` ï¼šåŒ¹é…å›è½¦ç¬¦ã€‚
- `\n` ï¼šåŒ¹é…æ¢è¡Œç¬¦ã€‚
- `\v` ï¼šåŒ¹é…å‚ç›´åˆ¶è¡¨ç¬¦ã€‚
- `\f` ï¼šåŒ¹é…æ¢é¡µç¬¦ã€‚
- `[\b]` ï¼šåŒ¹é…é€€æ ¼é”®ã€‚æ³¨æ„ `\b` ä¸ºåŒ¹é…å•è¯è¾¹ç•Œã€‚
- `\0` ï¼šåŒ¹é…ä¸€ä¸ª NUL å­—ç¬¦ã€‚æ³¨æ„ä¸è¦åœ¨æ­¤åé¢åŠ ä¸Šå¦ä¸€ä¸ªæ•°å­—ã€‚
- `\cX` ï¼šä½¿ç”¨æ’å…¥ç¬¦å·åŒ¹é…æ§åˆ¶å­—ç¬¦ï¼Œå…¶ä¸­ `X` æ˜¯ `Aâ€“Z` ä¸­çš„ä¸€ä¸ªå­—æ¯ï¼ˆå¯¹åº”äºä»£ç ç‚¹ `U+0001 â€“ U+001F`ï¼‰ã€‚
- `\xhh` ï¼šåŒ¹é…ä¸ä»£ç  `hh`ï¼ˆè¡¨ç¤ºä¸¤ä¸ªåå…­è¿›åˆ¶æ•°å­—ï¼‰å¯¹åº”çš„å­—ç¬¦ã€‚
- `\uhhhh` ï¼šåŒ¹é…ä¸å€¼ `hhhh`ï¼ˆè¡¨ç¤ºå››ä¸ªåå…­è¿›åˆ¶æ•°å­—ï¼‰å¯¹åº”çš„ UTF-16 ä»£ç å•å…ƒã€‚
- `\u{hhhh} æˆ– \u{hhhhh}` ï¼šï¼ˆä»…å½“è®¾ç½®äº† `u` ä¿®é¥°ç¬¦æ—¶ï¼‰åŒ¹é…ä¸ Unicode å€¼ `U+hhhh` æˆ– `U+hhhhh`ï¼ˆåå…­è¿›åˆ¶æ•°å­—ï¼‰å¯¹åº”çš„å­—ç¬¦ã€‚
- `\p{UnicodeProperty} æˆ– \P{UnicodeProperty}` ï¼šæ ¹æ®å­—ç¬¦çš„ Unicode å­—ç¬¦å±æ€§åŒ¹é…å­—ç¬¦ã€‚

### é‡è¯

- `x*` ï¼šå°†å‰ä¸€é¡¹ `'x'` åŒ¹é… **0 æ¬¡æˆ–æ›´å¤šæ¬¡**ã€‚
- `x+` ï¼šå°†å‰ä¸€é¡¹ `'x'` åŒ¹é… **1 æ¬¡æˆ–æ›´å¤šæ¬¡**ã€‚
- `x?` ï¼šå°†å‰ä¸€é¡¹ `'x'` åŒ¹é… **0 æ¬¡æˆ– 1 æ¬¡**ã€‚
- `x{n}` ï¼šå…¶ä¸­ `n` æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå°†å‰ä¸€é¡¹ `'x'` åŒ¹é… **n æ¬¡**ã€‚
- `x{n,}` ï¼šå…¶ä¸­ `n` æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå°†å‰ä¸€é¡¹ `'x'` åŒ¹é… **è‡³å°‘ n æ¬¡**ã€‚
- `x{n,m}` ï¼šå…¶ä¸­ `n` æ˜¯ 0 æˆ–ä¸€ä¸ªæ­£æ•´æ•°ï¼Œ`m` æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œ`m > n`ã€‚å°†å‰ä¸€é¡¹ `'x'` åŒ¹é…**è‡³å°‘ n æ¬¡**ï¼ŒåŒ¹é…**æœ€å¤š m æ¬¡**ã€‚
- é‡è¯åæ·»åŠ  `?` å·è¡¨ç¤º**éè´ªå©ªåŒ¹é…ï¼Œä¸€æ—¦åŒ¹é…åˆ°å°±ä¼šåœæ­¢**ã€‚æ¯”å¦‚ï¼š`x*?` ã€`x+?` ã€`x??` ã€`x{n}?` ã€`x{n,}?` ã€`x{n,m}?`

### ç›¸å…³ç¤ºä¾‹

```javascript
// åŒ¹é… 16 è¿›åˆ¶é¢œè‰²å€¼
let hexColorRegExp = /#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/g
'#ffbbad #Fc01DF #FFF #ffE'.match(hexColorRegExp)
// ['#ffbbad', '#Fc01DF', '#FFF', '#ffE']

// åŒ¹é…æ—¶é—´
let timeRegExp = /^(0?[0-9]|1[0-9]|[2][0-3]):(0?[0-9]|[1-5][0-9])$/
timeRegExp.test('23:59') // true
timeRegExp.test('02:07') // true
timeRegExp.test('7:9') // true

// åŒ¹é…æ—¥æœŸ
let dateCapturingGroupRegExp = /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/
dateCapturingGroupRegExp.test('2017-06-10') // true

// åŒ¹é… window è·¯å¾„
let windowPathRegExp =
  /^[a-zA-Z]:\\([^\\:*<>|"?\r\n/]+\\)*([^\\:*<>|"?\r\n/]+)?$/
windowPathRegExp.test('F:\\study\\javascript\\regex\\regular expression.pdf') // true
windowPathRegExp.test('F:\\study\\javascript\\regex\\') // true
windowPathRegExp.test('F:\\study\\javascript') // true
windowPathRegExp.test('F:\\') // true

// åŒ¹é… id
let idRegExp = /id=".*?"/
'<div id="container" class="main"></div'.match(regex)[0]
// id="container"
```

## åˆ†ç»„ä¸èŒƒå›´

### åˆ†ç»„

- `(x)` ï¼šæ•è·ç»„ï¼ŒåŒ¹é… `x` å¹¶è®°ä½**åŒ¹é…ç»“æœ**ã€‚æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æœ‰å¤šä¸ªæ•è·ç»„ï¼Œåœ¨åŒ¹é…çš„ç»“æœæ•°ç»„ä¸­ï¼Œå…¶æˆå‘˜çš„é¡ºåºä¸æ•è·ç»„ä¸­å·¦æ‹¬å·çš„é¡ºåºç›¸åŒã€‚**å¯ä»¥**ä½¿ç”¨å…ƒç´ ç´¢å¼•ï¼ˆ`[1], ..., [n]`ï¼Œ`[0]` ä¸ºå®Œæ•´çš„åŒ¹é…é¡¹ï¼‰æˆ–é¢„å®šä¹‰ RegExp å¯¹è±¡çš„å±æ€§ï¼ˆ`$1, ..., $9`ï¼‰è®¿é—®åŒ¹é…ç»“æœã€‚
- `(?<Name>x)` ï¼šå…·åæ•è·ç»„ã€‚åŒ¹é… `x` å¹¶å°†å…¶å­˜å‚¨åœ¨è¿”å›çš„åŒ¹é…é¡¹çš„ `groups` å±æ€§ä¸­ï¼Œå±æ€§ä½äº `<Name>` æŒ‡å®šçš„åç§°ä¸‹ã€‚
- `(?:x)` ï¼šéæ•è·ç»„ã€‚åŒ¹é… `x` ä½†**ä¸è®°ä½åŒ¹é…ç»“æœ**ã€‚åœ¨åŒ¹é…çš„ç»“æœæ•°ç»„ä¸­ï¼Œå…¶æˆå‘˜çš„é¡ºåºä¸æ•è·ç»„ä¸­å·¦æ‹¬å·çš„é¡ºåºç›¸åŒã€‚**æ— æ³•**é€šè¿‡å…ƒç´ ç´¢å¼•ï¼ˆ`[1], ..., [n]`ï¼Œ`[0]` ä¸ºå®Œæ•´çš„åŒ¹é…é¡¹ï¼‰æˆ–é¢„å®šä¹‰ RegExp å¯¹è±¡çš„å±æ€§ï¼ˆ`$1, ..., $9`ï¼‰è®¿é—®åŒ¹é…ç»“æœã€‚

```javascript
let dateCapturingGroupRegExp = /(\d{4})-(\d{2})-(\d{2})/
let dateNamedCapturingGroupRegExp =
  /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/
let dateNonCapturingGroupRegExp = /(\d{4})-(?:\d{2})-(?:\d{2})/

let dateStr = '2023-06-12'
let dateCapturingGroup = dateStr.match(dateCapturingGroupRegExp)
// ['2023-06-12', '2023', '06', '12', index: 0, input: '2023-06-12', groups: undefined]

let dateNamedCapturingGroup = dateStr.match(dateNamedCapturingGroupRegExp)
// ['2023-06-12', '2023', '06', '12', index: 0, input: '2023-06-12', groups: {year: '2023', month: '06', day: '12'}]

let dateNonCapturingGroup = dateStr.match(dateNonCapturingGroupRegExp)
// ['2023-06-12', '2023', index: 0, input: '2023-06-12', groups: undefined]

dateCapturingGroup[0] // '2023-06-12'
dateCapturingGroup[1] // '2023'
dateCapturingGroup[2] // '06'
dateCapturingGroup[3] // '12'

let dateStrFormatChangeOne = dateStr.replace(
  dateCapturingGroupRegExp,
  '$2/$3/$1'
)
// 06/12/2023

let dateStrFormatChangeTwo = dateStr.replace(
  dateCapturingGroupRegExp,
  function () {
    return RegExp.$2 + '/' + RegExp.$3 + '/' + RegExp.$1
  }
)
// 06/12/2023

let dateStrFormatChangeThree = dateStr.replace(
  dateCapturingGroupRegExp,
  function (match, year, month, day) {
    return month + '/' + day + '/' + year
  }
)
// 06/12/2023
```

### åå‘å¼•ç”¨

- `\n` ï¼šæ•°å­—åå‘å¼•ç”¨ï¼Œå…¶ä¸­ `n` æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸ `n` æ‹¬å·åŒ¹é…çš„æœ€åä¸€ä¸ªå­å­—ç¬¦ä¸²çš„åå‘å¼•ç”¨ (è®¡ç®—å·¦æ‹¬å·)ã€‚
- `\k<Name>` ï¼šå…·åç»„åå‘å¼•ç”¨ã€‚å¯¹æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸ `<Name>` åŒ¹é…çš„æœ€åä¸€ä¸ªå­å­—ç¬¦ä¸²çš„åå‘å¼•ç”¨ã€‚

```javascript
// åˆ†ç»„åµŒå¥—æ—¶ï¼Œä»¥å·¦æ‹¬å·ä¸ºå‡†
let backReferenceRegExpOne = /^((\d)(\d(\d)))\1\2\3\4$/
'1231231233'.replace(backReferenceRegExpOne, function () {
  return RegExp.$1 + '/' + RegExp.$2 + '/' + RegExp.$3 + '/' + RegExp.$4
})
// '123/1/23/3'

// \10 è¡¨ç¤ºç¬¬ 10 ä¸ªåˆ†ç»„
// åŒ¹é… \1 å’Œ 0 ï¼Œéœ€ä½¿ç”¨ (?:\1)0 æˆ– \1(?:0)
let backReferenceRegExpTwo = /(1)(2)(3)(4)(5)(6)(7)(8)(9)(#) \10+/
backReferenceRegExpTwo.test("123456789# ######") // true

// å¦‚æœä¸å­˜åœ¨åˆ†ç»„æ—¶ï¼Œæ­£åˆ™ä¸ä¼šæŠ¥é”™ï¼Œä¼šåŒ¹é…åå‘å¼•ç”¨çš„å­—ç¬¦æœ¬èº«
let backReferenceRegExpThree = /\1\2\3\4\5\6\7\8\9/
backReferenceRegExpThree.test('\1\2\3\4\5\6\7\8\9') // true
'\1\2\3\4\5\6\7\8\9'.split('') // ['\x01', '\x02', '\x03', '\x04', '\x05', '\x06', '\x07', '8', '9']

// åˆ†ç»„åå­˜åœ¨é‡è¯æ—¶ï¼Œåˆ†ç»„åå‘å¼•ç”¨æœ€ç»ˆæ•è·åˆ°çš„æ•°æ®æ˜¯æœ€åä¸€æ¬¡çš„åŒ¹é…
let backReferenceRegExpFour = /(\d)+ \1/
backReferenceRegExpFour.test('12345 1') // false
backReferenceRegExpFour.test('12345 5') // true

// å…·åç»„åå‘å¼•ç”¨ï¼Œæœ€ç»ˆæ•è·åˆ°çš„æ•°æ®æ˜¯æœ€åä¸€æ¬¡çš„åŒ¹é…
const backReferenceNamedRegExp = /^(?<word>[a-z]+)!\k<word>!\1$/
backReferenceNamedRegExp.test('abc!abc!abc') // true
backReferenceNamedRegExp.test('abc!abc!a') // false
backReferenceNamedRegExp.test('abc!abc!ab') // false
```

### ç›¸å…³ç¤ºä¾‹

```javascript
// æ¨¡æ‹Ÿ trim æ–¹æ³•
function trim(str) {
  // åŒ¹é…åˆ°å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½ç¬¦ï¼Œæ›¿æ¢æˆç©ºå­—ç¬¦
  return str.replace(/^\s+|\s+$/g, '')

  // å¦å¤–ä¸€ç§æ–¹æ³•ï¼š
  // åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œä½¿ç”¨å¼•ç”¨æ¥æå–å‡ºç›¸åº”çš„æ•°æ®
  // return str.replace(/^\s*(.*?)\s*$/g, '$1')
}
trim('  foobar   ') // 'foobar'

// å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯è½¬æ¢ä¸ºå¤§å†™
function titleize(str) {
  return str.toLowerCase().replace(/(?:^|\s)\w/g, function (c) {
    return c.toUpperCase()
  })
}
titleize('my name is epeli') // 'My Name Is Epeli'

// é©¼å³°åŒ–
function camelize(str) {
  return str.replace(/[-_\s]+(.)?/g, function (match, c) {
    return c ? c.toUpperCase() : ''
  })
}
camelize('-moz-transform') // 'MozTransform'

// ä¸­åˆ’çº¿åŒ–
function dasherize(str) {
  return str
    .replace(/([A-Z])/g, '-$1')
    .replace(/[-_\s]+/g, '-')
    .toLowerCase()
}
dasherize('MozTransform') // '-moz-transform'

// HTML è½¬ä¹‰ï¼šå°† HTML ç‰¹æ®Šå­—ç¬¦è½¬æ¢æˆç­‰å€¼çš„å®ä½“
function escapeHTML(str) {
  var escapeChars = {
    '<': 'lt',
    '>': 'gt',
    '"': 'quot',
    '&': 'amp',
    "'": '#39',
  }
  return str.replace(
    new RegExp('[' + Object.keys(escapeChars).join('') + ']', 'g'),
    function (match) {
      return '&' + escapeChars[match] + ';'
    }
  )
}
escapeHTML('<div>Blah blah blah</div>')
// '&lt;div&gt;Blah blah blah&lt;/div&gt'

// HTML åè½¬ä¹‰ï¼šå®ä½“å­—ç¬¦è½¬æ¢ä¸ºç­‰å€¼çš„ HTML
function unescapeHTML(str) {
  var htmlEntities = {
    nbsp: ' ',
    lt: '<',
    gt: '>',
    quot: '"',
    amp: '&',
    apos: "'",
  }
  return str.replace(/\&([^;]+);/g, function (match, key) {
    if (key in htmlEntities) {
      return htmlEntities[key]
    }
    return match
  })
}
unescapeHTML('&lt;div&gt;Blah blah blah&lt;/div&gt;')
// '<div>Blah blah blah</div>'

// åŒ¹é…æˆå¯¹æ ‡ç­¾
// > å¼€æ ‡ç­¾ä½¿ç”¨ [^>]+ çš„çš„æ˜¯ä¸ºäº†åå‘å¼•ç”¨ï¼Œé—­æ ‡ç­¾ä½¿ç”¨åå‘å¼•ç”¨ <\/\1>
// > [\d\D] è¡¨ç¤ºåŒ¹é…çš„å­—ç¬¦æ˜¯æ•°å­—æˆ–è€…ä¸æ˜¯æ•°å­—ï¼Œå³åŒ¹é…ä»»ä½•å­—ç¬¦
let htmlTagRegex = /<([^>]+)>[\d\D]*<\/\1>/
let string1 = '<title>regular expression</title>'
let string2 = '<p>bye bye</p>'
let string3 = '<title>wrong!</p>'
htmlTagRegex.test(string1) // true
htmlTagRegex.test(string2) // true
htmlTagRegex.test(string3) // false
```

## Unicode å±æ€§è½¬ä¹‰ï¼ˆUnicode property escapesï¼‰

Unicode property escapes æ­£åˆ™è¡¨è¾¾å¼ æ”¯æŒæ ¹æ® Unicode å±æ€§è¿›è¡ŒåŒ¹é…ï¼Œå¯ä»¥ç”¨å®ƒæ¥åŒ¹é…å‡ºè¡¨æƒ…ã€æ ‡ç‚¹ç¬¦å·ã€å­—æ¯ï¼ˆç”šè‡³é€‚ç”¨ç‰¹å®šè¯­è¨€æˆ–æ–‡å­—ï¼‰ç­‰ã€‚åŒä¸€ç¬¦å·å¯ä»¥æ‹¥æœ‰å¤šç§ Unicode å±æ€§ï¼Œå±æ€§åˆ™æœ‰ binary ("boolean-like") å’Œ non-binary ä¹‹åˆ†ã€‚

```md
// Non-binary å±æ€§
\p{Unicode å±æ€§å€¼}
\p{Unicode å±æ€§å=Unicode å±æ€§å€¼}

// Binary and non-binary å±æ€§
\p{UnicodeBinary å±æ€§å}

// \P ä¸º \p å–å
\P{Unicode å±æ€§å€¼}
\P{UnicodeBinary å±æ€§å}
```

- `UnicodeBinary å±æ€§å` ï¼šBinary å±æ€§åã€‚ä¾‹å¦‚ ASCII. Alpha, Math, Diacritic, Emoji, Hex_Digit, Math, White_space, ç­‰ã€‚
- `Unicode å±æ€§å` ï¼šNon-binary å±æ€§åã€‚
- `Unicode å±æ€§å€¼` ï¼šä¾‹å¦‚ï¼Œå¯¹åº” General_Category å±æ€§åçš„å±æ€§å€¼ Decimal_Number å¯ä»¥å†™ä½œ Nd, digit, æˆ– Decimal_Number ã€‚

```javascript
const sentence = 'A ticket to å¤§é˜ª costs Â¥2000 ğŸ‘Œ.'

const regexpEmojiPresentation = /\p{Emoji_Presentation}/gu
sentence.match(regexpEmojiPresentation) // [ 'ğŸ‘Œ' ]
```

## ä½¿ç”¨æ ‡å¿—ï¼ˆä¿®é¥°ç¬¦ï¼‰

- `g` ï¼šå…¨å±€æœç´¢ï¼ˆglobalï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡åŒ¹é…æˆåŠŸä¹‹åï¼Œå°±ä¼šåœæ­¢åŒ¹é…ã€‚ä½¿ç”¨ `g` ä¿®é¥°ç¬¦åï¼Œå°†åŒ¹é…æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ç»“æœã€‚
- `i` ï¼šä¸åŒºåˆ†å¤§å°å†™æœç´¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒ¹é…åŒºåˆ†å¤§å°å†™ã€‚ä½¿ç”¨ `i` ä¿®é¥°ç¬¦åï¼Œå¿½ç•¥å¤§å°å†™ï¼ˆignoreCaseï¼‰ã€‚
- `m` ï¼šå¤šè¡Œæœç´¢ï¼ˆmultilineï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`^` å’Œ `$` åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹å’Œç»“å°¾ä½ç½®ã€‚ä½¿ç”¨ `m` ä¿®é¥°ç¬¦åï¼Œ`^` å’Œ `$` é™¤äº†åŒ¹é…å¼€å§‹å’Œç»“å°¾ä½ç½®å¤–ï¼Œè¿˜ä¼šåŒ¹é…æ¢è¡Œç¬¦ï¼ˆ`\n`ï¼‰ã€‚
- `s` ï¼šå…è®¸ `.` åŒ¹é…æ¢è¡Œç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`.` åŒ¹é…é™¤ç»ˆæ­¢ç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚ä½¿ç”¨ `s` ä¿®é¥°ç¬¦ï¼Œ`.` å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚å…¶ä¸­ï¼Œç»ˆæ­¢ç¬¦åŒ…æ‹¬ `\n` ï¼ˆæ¢è¡Œç¬¦ï¼‰ã€ `\r` ï¼ˆå›è½¦ç¬¦ï¼‰ã€ `\u2028` ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰ã€ `\u2029` ï¼ˆæ®µè½åˆ†éš”ç¬¦ï¼‰ã€‚
- `d` ï¼šå¯ä»¥åœ¨ `exec()` ã€`match()` çš„è¿”å›ç»“æœæ·»åŠ  `indices` å±æ€§ï¼Œåœ¨è¯¥å±æ€§ä¸Šé¢å¯ä»¥è·å–å¯¹åº”åŒ¹é…å­—ç¬¦çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚
- `y` ï¼šæ‰§è¡Œâ€œç²˜æ€§ (sticky)â€æœç´¢ï¼Œåä¸€æ¬¡åŒ¹é…ä»ä¸Šä¸€æ¬¡åŒ¹é…æˆåŠŸçš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹ã€‚
- `u` ï¼šä½¿ç”¨ Unicode ç çš„æ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œç”¨äºæ­£ç¡®å¤„ç† `\uFFFF` çš„ Unicode å­—ç¬¦ï¼ˆå³å››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ï¼‰ã€‚
- `v` ï¼šå¢å¼º Unicode å±æ€§ç±»çš„è¿ç®—ï¼Œæä¾›ä¸¤ç§è¿ç®—ï¼š
  - å·®é›†è¿ç®—ï¼ˆ`[A--B]`ï¼‰ï¼šA é›†åˆå‡å» B é›†åˆ
  - äº¤é›†è¿ç®—ï¼ˆ`[A&&B]`ï¼‰ï¼šA é›†åˆä¸ B é›†åˆçš„äº¤é›†

## æ­£åˆ™è¡¨è¾¾å¼å›æº¯æ³•åŸç†

> å›æº¯æ³•ï¼ˆæ¢ç´¢ä¸å›æº¯æ³•ï¼‰æ˜¯ä¸€ç§é€‰ä¼˜æœç´¢æ³•ï¼Œåˆç§°ä¸ºè¯•æ¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ã€‚ä½†å½“æ¢ç´¢åˆ°æŸä¸€æ­¥æ—¶ï¼Œå‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ï¼Œè¿™ç§èµ°ä¸é€šå°±é€€å›å†èµ°çš„æŠ€æœ¯ä¸ºå›æº¯æ³•ï¼Œè€Œæ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€çš„ç‚¹ç§°ä¸ºâ€œå›æº¯ç‚¹â€ã€‚

![regexp_backtracking](../files/images/regexp_backtracking.drawio.png)

## æ­£åˆ™è¡¨è¾¾å¼ä¼˜å…ˆçº§

- è½¬ä¹‰ç¬¦ï¼ˆ**ä¼˜å…ˆçº§ 1**ï¼‰ï¼š `\`
- æ‹¬å·ä¸æ–¹æ‹¬å·ï¼ˆ**ä¼˜å…ˆçº§ 2**ï¼‰ï¼š `(...)`ã€`(?:...)`ã€`(?=...)`ã€`(?!...)`ã€`[...]`
- é‡è¯ï¼ˆ**ä¼˜å…ˆçº§ 3**ï¼‰ï¼š `{m}`ã€`{m,n}`ã€`{m,}`ã€`?`ã€`*`ã€`+`
- ä½ç½®å’Œåºåˆ—ï¼ˆ**ä¼˜å…ˆçº§ 4**ï¼‰ï¼š `^`ã€`$`ã€`\å…ƒå­—ç¬¦`ã€`ä¸€èˆ¬å­—ç¬¦`
- ç®¡é“ç¬¦ï¼ˆ**ä¼˜å…ˆçº§ 5**ï¼‰ï¼š `|`

## ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•

### RegExp.prototype.exec()

**è¯­æ³•ï¼š** `RegExp.exec(str)`

**æè¿°ï¼š** åœ¨ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸² `str` ä¸­æ‰§è¡Œä¸€ä¸ªæœç´¢åŒ¹é…ã€‚è¿”å›ä¸€ä¸ªç»“æœæ•°ç»„æˆ– `null`ã€‚

**å‚æ•°ï¼š** è¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸² `str`ã€‚

**è¿”å›å€¼ï¼š**

- å¦‚æœåŒ¹é…æˆåŠŸï¼Œ`exec()` æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æ›´æ–°æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„ `lastIndex` å±æ€§ã€‚
  - è¿”å›çš„æ•°ç»„
    - æ•°ç»„ç¬¬ä¸€é¡¹ä¸ºå®Œå…¨åŒ¹é…æˆåŠŸçš„æ–‡æœ¬ã€‚
    - ä»æ•°ç»„ç¬¬äºŒé¡¹èµ·ï¼Œåç»­æ¯é¡¹éƒ½å¯¹åº”ä¸€ä¸ªåŒ¹é…çš„æ•è·ç»„ã€‚
  - é¢å¤–çš„å±æ€§
    - `index` ï¼šåŒ¹é…åˆ°çš„å­—ç¬¦ä½äºåŸå§‹å­—ç¬¦ä¸²çš„åŸºäº 0 çš„ç´¢å¼•å€¼ã€‚
    - `input` ï¼šåŒ¹é…çš„åŸå§‹å­—ç¬¦ä¸²ã€‚
    - `groups` ï¼šä¸€ä¸ªå‘½åæ•è·ç»„å¯¹è±¡ï¼Œå…¶é”®æ˜¯åç§°ï¼Œå€¼æ˜¯æ•è·ç»„ã€‚è‹¥æ²¡æœ‰å®šä¹‰å‘½åæ•è·ç»„ï¼Œåˆ™ `groups` çš„å€¼ä¸º `undefined`ã€‚
    - `indices` ï¼šä»…åœ¨è®¾ç½®äº† `d` æ ‡å¿—ä½æ—¶å­˜åœ¨ã€‚å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºä¸€ä¸ªå­å­—ç¬¦ä¸²çš„è¾¹ç•Œã€‚æ¯ä¸ªå­å­—ç¬¦ä¸²åŒ¹é…æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºèµ·å§‹ç´¢å¼•ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºç»“æŸç´¢å¼•ã€‚

- å¦‚æœåŒ¹é…å¤±è´¥ï¼Œ`exec()` æ–¹æ³•è¿”å› `null`ï¼Œå¹¶å°†æ­£åˆ™è¡¨è¾¾å¼çš„ `lastIndex` é‡ç½®ä¸º 0ã€‚

### RegExp.prototype.test()

**è¯­æ³•ï¼š** `RegExp.test(str)`

**æè¿°ï¼š** ç”¨æ¥æŸ¥çœ‹æ­£åˆ™è¡¨è¾¾å¼ä¸æŒ‡å®šçš„å­—ç¬¦ä¸² `str` æ˜¯å¦åŒ¹é…ã€‚è¿”å› `true` æˆ– `false`ã€‚

**å‚æ•°ï¼š** è¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸² `str`ã€‚

**è¿”å›å€¼ï¼š** å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸æŒ‡å®šçš„å­—ç¬¦ä¸²åŒ¹é…ï¼Œè¿”å› `true`ï¼›å¦åˆ™ `false`ã€‚

### String.prototype.match()

**è¯­æ³•ï¼š** `str.match(regexp)`

**æè¿°ï¼š** æ£€ç´¢å­—ç¬¦ä¸² `str` ä¸æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…çš„ç»“æœã€‚

**å‚æ•°ï¼š** ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ `regexp` æˆ–è€…ä»»ä½•å…·æœ‰ `Symbol.match` æ–¹æ³•çš„å¯¹è±¡ã€‚

- å¦‚æœ `regexp` ä¸æ˜¯ `RegExp` å¯¹è±¡å¹¶ä¸”å¯¹è±¡ä¸Šæ—  `Symbol.match` æ–¹æ³•ï¼Œåˆ™ä¼šä½¿ç”¨ `new RegExp(regexp)` å°†å…¶éšå¼åœ°è½¬æ¢ä¸º `RegExp`ã€‚
- å¦‚æœä½ æ²¡æœ‰ç»™å‡ºä»»ä½•å‚æ•°å¹¶ç›´æ¥ä½¿ç”¨ `match()` æ–¹æ³•ï¼Œå°†ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«ç©ºå­—ç¬¦ä¸²çš„æ•°ç»„ï¼š`[""]`ï¼Œå› ä¸ºè¿™ç­‰ä»·äº `match(/(?:)/)`ã€‚

**è¿”å›å€¼ï¼š** ä¸€ä¸ª `Array`ã€‚å…¶å†…å®¹å–å†³äºæ˜¯å¦å­˜åœ¨å…¨å±€ï¼ˆ`g`ï¼‰æ ‡å¿—ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™è¿”å› `null`ã€‚

- å¦‚æœä½¿ç”¨ `g` æ ‡å¿—ï¼Œåˆ™å°†è¿”å›ä¸å®Œæ•´æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ‰€æœ‰ç»“æœï¼Œä½†ä¸ä¼šè¿”å›æ•è·ç»„ã€‚
- å¦‚æœæ²¡æœ‰ä½¿ç”¨ `g` æ ‡å¿—ï¼Œåˆ™åªè¿”å›ç¬¬ä¸€ä¸ªå®Œæ•´åŒ¹é…åŠå…¶ç›¸å…³æ•è·ç»„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`match()` æ–¹æ³•å°†è¿”å›ä¸ `RegExp.prototype.exec()` ç›¸åŒçš„ç»“æœï¼ˆä¸€ä¸ªå¸¦æœ‰ä¸€äº›é¢å¤–å±æ€§çš„æ•°ç»„ï¼‰ã€‚

### String.prototype.search()

**è¯­æ³•ï¼š** `str.search(regexp)`

**æè¿°ï¼š** ç”¨äºåœ¨ `String` å¯¹è±¡ä¸­æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼çš„æœç´¢ï¼Œå¯»æ‰¾åŒ¹é…é¡¹ã€‚

**å‚æ•°ï¼š** ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ `regexp` æˆ–è€…ä»»ä½•å…·æœ‰ `Symbol.match` æ–¹æ³•çš„å¯¹è±¡ã€‚

- å¦‚æœ `regexp` ä¸æ˜¯ `RegExp` å¯¹è±¡å¹¶ä¸”å¯¹è±¡ä¸Šæ—  `Symbol.match` æ–¹æ³•ï¼Œåˆ™ä¼šä½¿ç”¨ `new RegExp(regexp)` å°†å…¶éšå¼åœ°è½¬æ¢ä¸º `RegExp`ã€‚

**è¿”å›å€¼ï¼š** å¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…çš„ç´¢å¼•ï¼›å¦åˆ™ï¼Œè¿”å› `-1`ã€‚

### String.prototype.replace()

**è¯­æ³•ï¼š** `str.search(pattern, replacement)`

**æè¿°ï¼š** è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ä¸€ä¸ªã€å¤šä¸ªæˆ–æ‰€æœ‰åŒ¹é…çš„ `pattern` è¢«æ›¿æ¢ä¸º `replacement`ã€‚

- `pattern` å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ– `RegExp`ï¼Œ`replacement` å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–ä¸€ä¸ªåœ¨æ¯æ¬¡åŒ¹é…æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚
- å¦‚æœ `pattern` æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™åªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚
- åŸå§‹çš„å­—ç¬¦ä¸²ä¸ä¼šæ”¹å˜ã€‚

**å‚æ•°ï¼š**

- `pattern` ï¼šå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå¸¦æœ‰ `Symbol.replace` æ–¹æ³•çš„å¯¹è±¡ï¼ˆå…¸å‹çš„ä¾‹å­æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼‰ï¼Œä»»ä½•æ²¡æœ‰ `Symbol.replace` æ–¹æ³•çš„å€¼éƒ½ä¼šè¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚
- `replacement` ï¼šå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å‡½æ•°ã€‚
  - å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå°†æ›¿æ¢ç”± `pattern` åŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚
  - å¦‚æœæ˜¯å‡½æ•°ï¼Œå°†ä¸ºæ¯ä¸ªåŒ¹é…è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¹¶å°†å…¶è¿”å›å€¼ç”¨ä½œæ›¿æ¢æ–‡æœ¬ã€‚

**è¿”å›å€¼ï¼š** è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ä¸€ä¸ªã€å¤šä¸ªæˆ–æ‰€æœ‰çš„åŒ¹é…é¡¹éƒ½è¢«æŒ‡å®šçš„æ›¿æ¢é¡¹æ›¿æ¢ã€‚

### String.prototype.split()

**è¯­æ³•ï¼š** `split(separator, limit)`

**æè¿°ï¼š** æ¥å—ä¸€ä¸ªæ¨¡å¼ `separator`ï¼Œé€šè¿‡æœç´¢æ¨¡å¼å°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸€ä¸ªæœ‰åºçš„å­ä¸²åˆ—è¡¨ï¼Œå°†è¿™äº›å­ä¸²æ”¾å…¥ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚

**å‚æ•°ï¼š**

- `separator` ï¼šæè¿°æ¯ä¸ªåˆ†å‰²åº”è¯¥å‘ç”Ÿåœ¨å“ªé‡Œçš„æ¨¡å¼ã€‚å¯ä»¥æ˜¯ `undefined`ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…ä¸€ä¸ªå…·æœ‰ `Symbol.split` æ–¹æ³•çš„å¯¹è±¡ï¼ˆå…¸å‹çš„ä¾‹å­æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚
  - çœç•¥ `separator` æˆ–ä¼ é€’ `undefined` ä¼šå¯¼è‡´ `split()` è¿”å›ä¸€ä¸ªåªåŒ…å«æ‰€è°ƒç”¨å­—ç¬¦ä¸²æ•°ç»„ã€‚
  - æ‰€æœ‰ä¸æ˜¯ `undefined` çš„å€¼æˆ–ä¸å…·æœ‰ `@@split` æ–¹æ³•çš„å¯¹è±¡ï¼Œéƒ½è¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚
- `limit` ï¼šå¯é€‰å€¼ã€‚ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼ŒæŒ‡å®šæ•°ç»„ä¸­åŒ…å«çš„å­å­—ç¬¦ä¸²çš„æ•°é‡é™åˆ¶ã€‚å½“æä¾›æ­¤å‚æ•°æ—¶ï¼Œ`split` æ–¹æ³•ä¼šåœ¨æŒ‡å®š `separator` æ¯æ¬¡å‡ºç°æ—¶åˆ†å‰²è¯¥å­—ç¬¦ä¸²ï¼Œä½†åœ¨å·²ç»æœ‰ `limit` ä¸ªå…ƒç´ æ—¶åœæ­¢åˆ†å‰²ã€‚ä»»ä½•å‰©ä½™çš„æ–‡æœ¬éƒ½ä¸ä¼šåŒ…å«åœ¨æ•°ç»„ä¸­ã€‚
  - å¦‚æœåœ¨è¾¾åˆ°æé™ä¹‹å‰å°±è¾¾åˆ°äº†å­—ç¬¦ä¸²çš„æœ«ç«¯ï¼Œé‚£ä¹ˆæ•°ç»„åŒ…å«çš„æ¡ç›®å¯èƒ½å°‘äº `limit`ã€‚
  - å¦‚æœ `limit` ä¸º `0`ï¼Œåˆ™è¿”å› `[]`ã€‚

**è¿”å›å€¼ï¼š** åœ¨ç»™å®šå­—ç¬¦ä¸²ä¸­å‡ºç° `separator` çš„æ¯ä¸€ä¸ªç‚¹ä¸Šè¿›è¡Œåˆ†å‰²è€Œæˆçš„å­—ç¬¦ä¸²æ•°ç»„ã€‚
